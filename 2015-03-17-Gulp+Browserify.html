<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="baidu_union_verify" content="c1ef9ee240e2d3eaf779ed9a8d834c17">
  
  <title>Gulp+Browserify | 生活😁技术</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="更新2014年，9月8日Gulp start在这篇文章写之后经过了很大的发展。可下面的内容依旧是连贯的，只有少数部分在第一次写过之后进行了更改。比如：  自动加载task 通过gulp/config配置任务 用BrowserSync替换LiveReload   开始 周末，我决定使自己沉浸于Grunt和RequireJs中，   接着到周一时，看到一篇 and just like that Gr">
<meta property="og:type" content="article">
<meta property="og:title" content="Gulp+Browserify">
<meta property="og:url" content="http://zhuxinyong.com/2015-03-17-Gulp+Browserify.html">
<meta property="og:site_name" content="生活😁技术">
<meta property="og:description" content="更新2014年，9月8日Gulp start在这篇文章写之后经过了很大的发展。可下面的内容依旧是连贯的，只有少数部分在第一次写过之后进行了更改。比如：  自动加载task 通过gulp/config配置任务 用BrowserSync替换LiveReload   开始 周末，我决定使自己沉浸于Grunt和RequireJs中，   接着到周一时，看到一篇 and just like that Gr">
<meta property="og:locale" content="Chinese">
<meta property="og:image" content="http://zhuxinyong.com/assets/images/gulp-struct.png">
<meta property="og:updated_time" content="2018-05-28T02:47:23.879Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Gulp+Browserify">
<meta name="twitter:description" content="更新2014年，9月8日Gulp start在这篇文章写之后经过了很大的发展。可下面的内容依旧是连贯的，只有少数部分在第一次写过之后进行了更改。比如：  自动加载task 通过gulp/config配置任务 用BrowserSync替换LiveReload   开始 周末，我决定使自己沉浸于Grunt和RequireJs中，   接着到周一时，看到一篇 and just like that Gr">
<meta name="twitter:image" content="http://zhuxinyong.com/assets/images/gulp-struct.png">
  
    <link rel="alternate" href="/atom.xml" title="生活😁技术" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    
  
  <link rel="stylesheet" href="/css/style.css">
  


  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-4882891850616832",
      enable_page_level_ads: true
    });
  </script>
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    
    <div id="header-inner" class="inner">
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://zhuxinyong.com"></form>
      </div>
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>
      
    </div>
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">生活😁技术</a>
      </h1>
      
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Gulp+Browserify" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015-03-17-Gulp+Browserify.html" class="article-date">
  <time datetime="2015-03-17T15:18:33.000Z" itemprop="datePublished">Mar 17 2015</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Gulp+Browserify
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <blockquote>
<p>更新<br>2014年，9月8日<br><a href="https://github.com/greypants/gulp-starter" target="_blank" rel="noopener">Gulp start</a>在这篇文章写之后经过了很大的发展。可下面的内容依旧是连贯的，只有少数部分在第一次写过之后进行了更改。比如：</p>
<ul>
<li><a href="https://github.com/greypants/gulp-starter/blob/master/gulpfile.js#L17" target="_blank" rel="noopener">自动加载task</a></li>
<li>通过<a href="https://github.com/greypants/gulp-starter/blob/master/gulp/config.js" target="_blank" rel="noopener">gulp/config</a>配置任务</li>
<li>用BrowserSync替换LiveReload</li>
</ul>
</blockquote>
<p><strong>开始</strong></p>
<p>周末，我决定使自己沉浸于Grunt和RequireJs中，   接着到周一时，看到一篇 <a href="http://www.100percentjs.com/just-like-grunt-gulp-browserify-now/" target="_blank" rel="noopener">and just like that Grunt and RequireJS are out, it’s all about Gulp and Browserify now.</a>整个人都不好了！</p>
<p>为了让你避免googling，文档中遨游以及我碰到的问题，我搜集了一些认为对你开始有用的资源和信息</p>
<p><strong>Gulp + Browserify starter repo</strong></p>
<p>我已经创建了<a href="https://github.com/greypants/gulp-starter" target="_blank" rel="noopener">Gulp + Browserify starter repo</a>并配有如何完成一些常规任务和工作流的例子。</p>
<a id="more"></a>
<ul>
<li><a href="https://github.com/greypants/gulp-starter/blob/master/package.json#L15" target="_blank" rel="noopener">Compile CoffeeScript</a>(带有<a href="https://github.com/greypants/gulp-starter/blob/master/gulp/tasks/browserify.js#L13" target="_blank" rel="noopener">source map</a>)</li>
<li><a href="https://github.com/greypants/gulp-starter/blob/master/package.json#L16" target="_blank" rel="noopener">Compile Handlebars Templates</a></li>
<li><a href="https://github.com/greypants/gulp-starter/blob/master/gulp/tasks/compass.js#L8" target="_blank" rel="noopener">Compile SASS with Compass</a></li>
<li><a href="https://github.com/greypants/gulp-starter/blob/master/gulp/tasks/compass.js#L17" target="_blank" rel="noopener">LiveReload</a></li>
<li><a href="https://github.com/greypants/gulp-starter/blob/master/package.json#L19" target="_blank" rel="noopener">Browserify-shim: require non-CommonJS code, with dependencies</a></li>
<li><a href="https://github.com/greypants/gulp-starter/blob/master/package.json#L10" target="_blank" rel="noopener">Set up module aliases</a></li>
<li><a href="https://github.com/greypants/gulp-starter/blob/master/gulp/tasks/serve.js" target="_blank" rel="noopener">Run a static Node server (with logging)</a></li>
<li><a href="https://github.com/greypants/gulp-starter/blob/master/gulp/tasks/open.js" target="_blank" rel="noopener">Pop open your app in a Browser</a></li>
<li><a href="https://github.com/greypants/gulp-starter/blob/master/gulp/util/handleErrors.js" target="_blank" rel="noopener">Report Errors through Notification Center</a></li>
<li><a href="https://github.com/greypants/gulp-starter/blob/master/gulp/tasks/images.js#L11" target="_blank" rel="noopener">Image processing</a></li>
</ul>
<p><strong><a href="https://github.com/greypants/gulp-starter/wiki" target="_blank" rel="noopener">常见问题集合</a></strong></p>
<p><a href="http://nodejs.org/" target="_blank" rel="noopener">Node</a>,<a href="https://www.npmjs.org/" target="_blank" rel="noopener">npm</a>,<a href="http://wiki.commonjs.org/wiki/Modules/1.1" target="_blank" rel="noopener">CommonJS</a>,<a href="https://www.npmjs.org/doc/json.html" target="_blank" rel="noopener">package.json</a>…是什么？当我一头扎进这些内容时，多数文档不够详尽，都假设用户对其有些了解的情况下编写的文档。我已经将一些背景知识融入到Wiki中，以此消除我上面提到的Repo的知识隔阂。</p>
<ul>
<li><a href="https://github.com/greypants/gulp-starter/wiki/What-is-a-Module%3F" target="_blank" rel="noopener">What is a Module?</a></li>
<li><a href="https://github.com/greypants/gulp-starter/wiki/What-is-Node%3F" target="_blank" rel="noopener">What is Node?</a></li>
<li><a href="https://github.com/greypants/gulp-starter/wiki/What-is-npm%3F" target="_blank" rel="noopener">What is npm?</a></li>
<li><a href="https://github.com/greypants/gulp-starter/wiki/What-is-package.json%3F" target="_blank" rel="noopener">What is package.json?</a></li>
<li><a href="https://github.com/greypants/gulp-starter/wiki/What-is-Browserify%3F" target="_blank" rel="noopener">What is Browserify?</a></li>
<li><a href="https://github.com/greypants/gulp-starter/wiki/What-is-Gulp%3F" target="_blank" rel="noopener">What is Gulp?</a></li>
</ul>
<p><strong>为何Gulp很好？</strong></p>
<p><strong>它是有意义的。</strong></p>
<p>在学了Grunt几天后我就学习了Gulp，无论什么原因，我发现它很容易掌握并且工作起来很享受。通过不同的过程输出文件流的想法很有赞。</p>
<blockquote>
<p>gulp’s use of streams and code-over-configuration makes for a simpler and more intuitive build. - gulpjs.com</p>
</blockquote>
<p>下面是一个图片处理的过程：</p>
<pre><code>var gulp       = require(&apos;gulp&apos;);
var imagemin   = require(&apos;gulp-imagemin&apos;);

gulp.task(&apos;images&apos;, function(){
    return gulp.src(&apos;./src/images/**&apos;)
        .pipe(imagemin())
        .pipe(gulp.dest(&apos;./build/images&apos;));
});
</code></pre><p>首先，<code>gulp.src</code>定位到资源文件用于接下来的各种任务。在这个例子中，我使文件经过<code>gulp-imagemin</code>，然后通过<code>gulp.dest()</code>输出到我的<code>build</code>目录。若想添加额外的操作（重命名，改变尺寸，自动加载等），只需要在任务流中加载更多的管道。</p>
<p><strong>速度</strong></p>
<p>Gulp是相当的快，我刚刚完成了一个相当复杂的app，它编译Sass，SourceMap的CoffeeScript，Handlebars的模板以及自动加载。这些看起来貌似都不是问题。</p>
<blockquote>
<p>By harnessing the power of node’s streams you get fast builds that don’t write intermediary files to disk. - gulpjs.com</p>
</blockquote>
<p><strong>打散任务配置文件</strong></p>
<p>gulpfile就是在使用gulp时的任务配置，如果你使用过grunt，它就像gruntfile。在经历一些实验，收到一些提交建议和学习Node/CommonJS多棒之后，我拆分了所有的任务到单个文件中，然后通过gulpfile.js组合起来。</p>
<pre><code>var gulp = require(&apos;./gulp&apos;)([
    &apos;browserify&apos;,
    &apos;compass&apos;,
    &apos;images&apos;,
    &apos;open&apos;,
    &apos;watch&apos;,
    &apos;serve&apos;
]);

gulp.task(&apos;build&apos;, [&apos;browserify&apos;, &apos;compass&apos;, &apos;images&apos;]);
gulp.task(&apos;default&apos;, [&apos;build&apos;, &apos;watch&apos;, &apos;serve&apos;, &apos;open&apos;]);
</code></pre><p>200个字符，很简洁，对吧？这里发生了什么：我引入了在<code>./gulp/index.js</code>中创建的gulp模块，然后以一个列表的形式将在<code>./gulp/tasks</code>文件夹下创建的任务文件。</p>
<pre><code>var gulp = require(&apos;gulp&apos;);

module.exports = function(tasks) {
    tasks.forEach(function(name) {
        gulp.task(name, require(&apos;./tasks/&apos; + name));
    });

    return gulp;
};
</code></pre><p>我们传给这个方法的每一个任务名，都是在<code>.／tasks／</code>文件夹下的独立文件暴露出的方法。现在每一个任务都被注册，可以在一个大任务里面使用，例如像定义在gulpfile尾部的default。</p>
<p><img src="/assets/images/gulp-struct.png" alt="img"></p>
<p>这样就可以重用而且在新项目中很容易建立，阅读<a href="https://github.com/gulpjs/gulp/blob/master/docs/README.md" target="_blank" rel="noopener">gulp doc</a>获得更多知识。</p>
<p><strong>为何Browserify很好？</strong></p>
<blockquote>
<p>“Browserify lets you require(‘modules’) in the browser by bundling up all of your dependencies.” - Browserify.org</p>
</blockquote>
<p>Browserify就像一个单独的文件，遵守require依赖原理同时把他们合并为一个新文件，你可以在命令行里使用或者通过Node中的API在gulp中调用。</p>
<p><strong>基础的API例子</strong></p>
<p><strong>app.js</strong></p>
<pre><code>var hideElement = require(&apos;./hideElement&apos;);

hideElement(&apos;#some-id&apos;);
</code></pre><p><strong>hideElement.js</strong></p>
<pre><code>var $ = require(&apos;jquery&apos;);
module.exports = function(selector) {
    return $(selector).hide();
};
</code></pre><p><strong>gulpfile.js</strong></p>
<pre><code>var browserify = require(&apos;browserify&apos;);
var bundle = browserify(&apos;./app.js&apos;).bundle()
</code></pre><p>通过Browserify调用app.js经历如下过程：</p>
<ol>
<li>app.js 依赖 hideElement.js</li>
<li>hideElement.js需要jquery.js模块</li>
<li>把jQuery，hideElement.js,app.js捆绑在一起，在使用之前确保没有依赖的文件都存在</li>
</ol>
<p>###CommonJs到AMD###</p>
<p>我们的团队已经开始以Require.js和Almond.js的模块化开发，他俩其实是实现了AMD规范。我们喜欢这样组织代码并从中获益，可是…</p>
<p><strong>AMD和Require.js感觉很笨重和不便</strong></p>
<pre><code>require([
    &apos;./thing1&apos;,
    &apos;./thing2&apos;,
    &apos;./thing3&apos;
], function(thing1, thing2, thing3) {
    // Tell the module what to return/export
    return function() {
        console.log(thing1, thing2, thing3);
    };
});
</code></pre><p><strong>第一次使用CommonJs模块的时候感觉很自然</strong></p>
<pre><code>ar thing1 = require(&apos;./thing1&apos;);
var thing2 = require(&apos;./thing2&apos;);
var thing3 = require(&apos;./thing3&apos;);

// Tell the module what to return/export
module.exports = function() {
    console.log(thing1, thing2, thing3);
};
</code></pre><p>确保阅读<a href="http://nodejs.org/api/modules.html#modules_file_modules" target="_blank" rel="noopener"> how require calls resolve to files, folders, and node_modules</a></p>
<p>###Browserify很棒是因为Node和NPM很棒###</p>
<p>Node使用CommonJs模式来提供模块管理，真正使其强大的是通过NPM可以快速安装，更新和管理依赖。你一旦尝试过此种组合，你将会一直需要它。Browerify就是把这种模式带到浏览器端。</p>
<p>若需要jQuery，一般情况，你会打开浏览器在jQuery.com上找到最新的版本的，然后下载到一个文件夹里，然后在你的布局里添加script标签，同时使其附加到window对象上作为全局对象。</p>
<p>通过NPM和Browserify，你只需要：</p>
<pre><code>npm install jquery --save
</code></pre><p>app.js</p>
<pre><code>var $ = require(&apos;jquery&apos;);
$(&apos;.haters&apos;).fadeOut();
</code></pre><p>这些代码表示从NPM下载最新的jQuery版本，并保存到你项目根目录下的node_modules文件夹中。<code>--save</code>参数代表在package.json中的dependencies添加此包。现在你可以在当前项目下的任何文件中<code>require(&quot;jquery&quot;)</code>。jQuery对象通过var $ 暴露在局部作用域内，而不是在window下的全局作用域。当我在第三方网站引入我的代码同时该网站有其他版本的jquery时，这种模式会很好，避免版本冲突的可能。</p>
<p>###Transforms的能力###</p>
<p>在打包Js文件之前，Browserify通过一些<a href="https://github.com/substack/node-browserify/wiki/list-of-transforms" target="_blank" rel="noopener">transform</a>可以很轻松的预处理你的文件然后打包到一个文件里。就是编译.coffee或.hbs文件到合并的文件里。</p>
<p>常规的做法是在package.json的<code>browserify.transform</code>下列出你的transforms。Browserify会按照你列的顺序执行。这都假设已经通过npm install 安装了它们。</p>
<pre><code>&quot;browserify&quot;: {
    &quot;transform&quot;: [&quot;coffeeify&quot;, &quot;hbsfy&quot; ]
  },
 &quot;devDependencies&quot;: {
    &quot;browserify&quot;: &quot;~3.36.0&quot;,
    &quot;coffeeify&quot;: &quot;~0.6.0&quot;,
    &quot;hbsfy&quot;: &quot;~1.3.2&quot;,
    &quot;gulp&quot;: &quot;~3.6.0&quot;,
    &quot;vinyl-source-stream&quot;: &quot;~0.1.1&quot;
  }
</code></pre><p>注意：因为transforms只在预处理中使用并且不需要在输出JS中使用所以我在<code>devDependencies</code>中列出了它们。你可以使用<code>--save-dev</code>或<code>-D</code>自动添加到<code>devDependencies</code>中。</p>
<p>现在我们可以使用<code>require(&#39;./view.coffee&#39;)</code>和<code>require(&#39;./template.hbs&#39;)</code>就像使用其他JS文件一样。我们可以使用<code>extentions</code>选项来使Browserify辨认出扩展，所以我们不需要在require中指明后缀。</p>
<pre><code>browserify({
    entries: [&apos;./src/javascript/app.coffee&apos;],
    extensions: [&apos;.coffee&apos;, &apos;.hbs&apos;]
})
.bundle()
...
</code></pre><p>在这里看<a href="https://github.com/greypants/gulp-starter/blob/master/gulp/tasks/browserify.js" target="_blank" rel="noopener">事例</a></p>
<p>###同时使用Gulp和Browserify###</p>
<p>起初，我使用<code>gulp-browserify</code>插件，但是几礼拜之后发现Gulp把它加入黑名单了，原来插件不是必须的，可以直接使用node-browserify API,借助<a href="https://www.npmjs.org/package/vinyl-source-stream" target="_blank" rel="noopener">vinyl-source-stream</a>，可以使合并的文件变为gulp需要的流。直接使用Browserify可以100%获得最新版本的特性。</p>
<p><strong>基础方法</strong></p>
<pre><code>var browserify = require(&apos;browserify&apos;);
var gulp = require(&apos;gulp&apos;);
var source = require(&apos;vinyl-source-stream&apos;);

gulp.task(&apos;browserify&apos;, function() {
    return browserify(&apos;./src/javascript/app.js&apos;)
        .bundle()
        //Pass desired output filename to vinyl-source-stream
        .pipe(source(&apos;bundle.js&apos;))
        // Start piping stream to tasks!
        .pipe(gulp.dest(&apos;./build/&apos;));
});
</code></pre><p><strong>高级用法</strong></p>
<p>查看一下<a href="https://github.com/greypants/gulp-starter/blob/master/gulp/tasks/browserify.js" target="_blank" rel="noopener">browserify.js task</a>和<a href="https://github.com/greypants/gulp-starter/blob/master/package.json" target="_blank" rel="noopener">package.json</a>中是如何为CoffeeScript和Handlebars预编译的。通过<a href="https://github.com/thlorenz/browserify-shim" target="_blank" rel="noopener">browserify-shim</a>j创建没有共同的JS模块同时使用消息中心来处理编译错误。阅读这些<a href="https://github.com/substack/node-browserify#api-example" target="_blank" rel="noopener">API</a>来了解Browserify能做的东西。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://zhuxinyong.com/2015-03-17-Gulp+Browserify.html" data-id="cjhq35fdf001whgg9pz8lzj2f" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
    
 <script src="/jquery/jquery.min.js"></script>
  <div id="random_posts">
    <h2>推荐文章</h2>
    <div class="random_posts_ul">
      <script>
          var random_count =4
          var site = {BASE_URI:'/'};
          function load_random_posts(obj) {
              var arr=site.posts;
              if (!obj) return;
              // var count = $(obj).attr('data-count') || 6;
              for (var i, tmp, n = arr.length; n; i = Math.floor(Math.random() * n), tmp = arr[--n], arr[n] = arr[i], arr[i] = tmp);
              arr = arr.slice(0, random_count);
              var html = '<ul>';
            
              for(var j=0;j<arr.length;j++){
                var item=arr[j];
                html += '<li><strong>' + 
                item.date + ':&nbsp;&nbsp;<a href="' + (site.BASE_URI+item.uri) + '">' + 
                (item.title || item.uri) + '</a></strong>';
                if(item.excerpt){
                  html +='<div class="post-excerpt">'+item.excerpt+'</div>';
                }
                html +='</li>';
                
              }
              $(obj).html(html + '</ul>');
          }
          $('.random_posts_ul').each(function () {
              var c = this;
              if (!site.posts || !site.posts.length){
                  $.getJSON(site.BASE_URI + 'js/posts.js',function(json){site.posts = json;load_random_posts(c)});
              } 
               else{
                load_random_posts(c);
              }
          });
      </script>
    </div>
  </div>

    
<nav id="article-nav">
  
    <a href="/2015-04-08-reload.html" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          reload vs href
        
      </div>
    </a>
  
  
    <a href="/2015-03-12-更好的事件处理.html" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">更好的事件处理</div>
    </a>
  
</nav>

  
</article>
 
     
  <div class="comments" id="comments">
    
     
       
       
      
      
  </div>
 
  

</section>
           
    <aside id="sidebar">
  
    

  
    
  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title recent-posts">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018-05-28-一个数字截取引发的精度问题（四）.html">一个数字截取引发的精度问题（四）</a>
          </li>
        
          <li>
            <a href="/2017-07-08-sass-vs-less.html">sass vs less</a>
          </li>
        
          <li>
            <a href="/2017-06-11-全栈工程师指南.html">全栈工程师指南</a>
          </li>
        
          <li>
            <a href="/2017-06-03-使同事羡慕不已的8个npm命令.html">使同事羡慕不已的8个npm命令</a>
          </li>
        
          <li>
            <a href="/2017-05-18-微信更新了这些内容，你还不知道？.html">微信更新了这些内容，你还不知道？</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    

  
    
  
    <!--微信公众号二维码-->


  
</aside>

      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-left">
      &copy; 2014 - 2018 Zhuxy&nbsp;|&nbsp;
      主题 <a href="https://github.com/giscafer/hexo-theme-cafe/" target="_blank">Cafe</a>
    </div>
     <div id="footer-right">
      联系方式&nbsp;|&nbsp;aotuwangren@163.com
    </div>
  </div>
</footer>
 <script src="/jquery/jquery.min.js"></script>
 
 <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?2417a647046aae16ca9c71de9041dd92";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
  </script>
  
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
</nav>
    <img class="back-to-top-btn" src="/images/fly-to-top.png"/>
<script>
// Elevator script included on the page, already.
window.onload = function() {
  var elevator = new Elevator({
    selector:'.back-to-top-btn',
    element: document.querySelector('.back-to-top-btn'),
    duration: 1000 // milliseconds
  });
}
</script>
      

  

  







<!-- author:forvoid begin -->
<!-- author:forvoid begin -->

<!-- author:forvoid end -->

<!-- author:forvoid end -->


  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      })
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      })
    </script>
    <script type="text/javascript" src="https://cdn.rawgit.com/mathjax/MathJax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


 <script src="/js/is.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
<script src="/js/elevator.js"></script>
  </div>
</body>
</html>