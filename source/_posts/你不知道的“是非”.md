title: "你不知道的‘是非’"
date: 2014-10-09 22:09:06
tags:
---
上一篇文章[JavaScript技巧揭秘](http://zhuxinyong.com/2014/09/27/JavaScript%E6%8A%80%E5%B7%A7%E6%8F%AD%E7%A7%98/)提到short-circuit evaluation。

文章提到 || 为函数提供默认参数，此种方法应用很广泛。一直认为 __&&__ 和 __||__ 没有什么特别的也没有多加注意。最近看了一些关于她俩的文章和讨论发现很值得详细记录一下。

以前认为 && 和 || 返回的是Boolean值。

例如：

```
if(a && b){
 //do sth...
}
```

此时你应该认为 __a && b__ 返回的是Boolean值。看个实例：

```
if(true && 'xx'){
 //do sth...
}
```
上面的例子会执行if里面的do sth，但是 __true && 'xx'__ 返回的是 'xx',所以 && 并不是简单的返回Boolean。同样 || 也不是简单的返回Boolean。

为函数提供默认值我们经常会这样：

```
function Fun(name){
	var name = name || 'China';
	console.log('Hello ' + name + '!');
}
```
当传入Fun里面的name的值能转化为false时，程序就提供一个默认值‘China’。那么在Js里什么值能转换为false：

```
0, '', "", null ,undefined ,NaN
```

其余的值都可以转为true,包括__-1,-2__这些负数。

那么现在来看几个例子（感觉比较有意思）：

#### &&运算： ####

``` 
true && false // return false
false && false //return false
"" && "one" //return ""
"one" && "" //return ""
"one" && "two" //return "two"
null && 10 //return null
10 && null //return null
```

#### || 运算：####

```
"one" || "two" // "one"
0 || "one"     // "one"
"" || 0        // 0
null || 10     // 10
10 || null     // 10
```

这里还有几个例子：

<a class="jsbin-embed" href="http://jsbin.com/quman/1/embed?js,console">JS Bin</a><script src="http://static.jsbin.com/js/embed.js"></script>

<a class="jsbin-embed" href="http://jsbin.com/pabem/1/embed?js,console">JS Bin</a><script src="http://static.jsbin.com/js/embed.js"></script>

&& 和 || 其实返回的是表达式执行的结果,如上的say()和Fun()方法。

说了这么多尝试总结一下：

----------------------

#### &&： ####

* 当左右两边都为true时，结果为：true；

* 当左侧的表达式转为true时，结果为：右侧表达式执行的结果；

* 当左侧的表达式转为false时，结果为：左侧表达式执行的结果；

----------------------

#### ||：####

* 当左右两边都为false时，结果为：false；

* 当左侧的表达式转为true时，结果为：左侧表达式执行的结果；

* 当左侧的表达式转为false时，结果为：右侧表达式执行的结果；



参考：

1. http://www.codecademy.com/forum_questions/502b728cdadc53000202b956

2. http://www.grauw.nl/blog/entry/510

3. http://learn.jquery.com/javascript-101/operators/







