<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Gulp+Browserify | 关于生活，关于前端</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="wumiiVerification" content="e6510660-240e-4909-8068-663f55fc7795" />
  <meta name="description" content="更新2014年，9月8日Gulp start在这篇文章写之后经过了很大的发展。可下面的内容依旧是连贯的，只有少数部分在第一次写过之后进行了更改。比如：

自动加载task
通过gulp/config配置任务
用BrowserSync替换LiveReload


开始
周末，我决定使自己沉浸于Grunt和RequireJs中，   接着到周一时，看到一篇 and just like that Gru">
<meta property="og:type" content="article">
<meta property="og:title" content="Gulp+Browserify">
<meta property="og:url" content="http://zhuxinyong.com/2015/03/17/Gulp-Browserify/index.html">
<meta property="og:site_name" content="关于生活，关于前端">
<meta property="og:description" content="更新2014年，9月8日Gulp start在这篇文章写之后经过了很大的发展。可下面的内容依旧是连贯的，只有少数部分在第一次写过之后进行了更改。比如：

自动加载task
通过gulp/config配置任务
用BrowserSync替换LiveReload


开始
周末，我决定使自己沉浸于Grunt和RequireJs中，   接着到周一时，看到一篇 and just like that Gru">
<meta property="og:image" content="http://zhuxinyong.com/assets/images/gulp-struct.png">
<meta property="og:updated_time" content="2016-11-15T13:28:57.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Gulp+Browserify">
<meta name="twitter:description" content="更新2014年，9月8日Gulp start在这篇文章写之后经过了很大的发展。可下面的内容依旧是连贯的，只有少数部分在第一次写过之后进行了更改。比如：

自动加载task
通过gulp/config配置任务
用BrowserSync替换LiveReload


开始
周末，我决定使自己沉浸于Grunt和RequireJs中，   接着到周一时，看到一篇 and just like that Gru">
  
    <link rel="alternative" href="/atom.xml" title="关于生活，关于前端" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  
<script type="text/javascript">
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?8c6506f2771c14e5184e4b40cb38aac2";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

  <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<div class="profilepic">
			<img src="https://avatars0.githubusercontent.com/u/745181?v=2&amp;s=460">
		</div>

		<hgroup>
		  <h1 class="header-author"><a href="/">Zhuxy</a></h1>
		</hgroup>

		

		
			<div class="onoffswitch">
			    <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch" checked>
			    <label class="onoffswitch-label" for="myonoffswitch">
			        <span class="onoffswitch-inner"></span>
			        <span class="onoffswitch-switch"></span>
			    </label>
			</div>
		

		<div class="switch-area">
			<section class="first-part">
				<nav class="header-menu">
					<ul>
					
						<li><a href="/">主页</a></li>
			        
						<li><a href="/archives">所有文章</a></li>
			        
						<li><a href="/about">关于</a></li>
			        
					</ul>
				</nav>
				<nav class="header-nav">
					<div class="social">
						
							<a class="github" target="_blank" href="https://github.com/ghostcode" title="github">github</a>
				        
							<a class="weibo" target="_blank" href="http://weibo.com/ghostcode" title="weibo">weibo</a>
				        
					</div>
				</nav>
			</section>
			
			
			<section class="second-part">
				<div class="widget tagcloud">
					<a href="/tags/Ajax/" style="font-size: 10px;">Ajax</a> <a href="/tags/ES6/" style="font-size: 10px;">ES6</a> <a href="/tags/Express/" style="font-size: 10px;">Express</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Grunt/" style="font-size: 10px;">Grunt</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="/tags/Javascript/" style="font-size: 20px;">Javascript</a> <a href="/tags/Mac/" style="font-size: 10px;">Mac</a> <a href="/tags/Node/" style="font-size: 10px;">Node</a> <a href="/tags/Node-Express/" style="font-size: 10px;">Node Express</a> <a href="/tags/Sublime/" style="font-size: 20px;">Sublime</a> <a href="/tags/chrome/" style="font-size: 10px;">chrome</a> <a href="/tags/css3/" style="font-size: 10px;">css3</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/promise/" style="font-size: 10px;">promise</a> <a href="/tags/regexp/" style="font-size: 10px;">regexp</a> <a href="/tags/webcomponents/" style="font-size: 10px;">webcomponents</a> <a href="/tags/架构/" style="font-size: 10px;">架构</a> <a href="/tags/浏览器/" style="font-size: 10px;">浏览器</a> <a href="/tags/特效/" style="font-size: 10px;">特效</a>
				</div>
			</section>
			
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay"></div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="https://avatars0.githubusercontent.com/u/745181?v=2&amp;s=460">
			</div>

			<hgroup>
			  <h1 class="header-author"><a href="/">Zhuxy</a></h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/about">关于</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/ghostcode" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/ghostcode" title="weibo">weibo</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <article id="post-Gulp-Browserify" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/03/17/Gulp-Browserify/" class="article-date">
  	<time datetime="2015-03-17T15:18:33.000Z" itemprop="datePublished">Mar 17 2015</time>
</a>
      
      
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Gulp+Browserify
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>更新<br>2014年，9月8日<br><a href="https://github.com/greypants/gulp-starter" target="_blank" rel="external">Gulp start</a>在这篇文章写之后经过了很大的发展。可下面的内容依旧是连贯的，只有少数部分在第一次写过之后进行了更改。比如：</p>
<ul>
<li><a href="https://github.com/greypants/gulp-starter/blob/master/gulpfile.js#L17" target="_blank" rel="external">自动加载task</a></li>
<li>通过<a href="https://github.com/greypants/gulp-starter/blob/master/gulp/config.js" target="_blank" rel="external">gulp/config</a>配置任务</li>
<li>用BrowserSync替换LiveReload</li>
</ul>
</blockquote>
<p><strong>开始</strong></p>
<p>周末，我决定使自己沉浸于Grunt和RequireJs中，   接着到周一时，看到一篇 <a href="http://www.100percentjs.com/just-like-grunt-gulp-browserify-now/" target="_blank" rel="external">and just like that Grunt and RequireJS are out, it’s all about Gulp and Browserify now.</a>整个人都不好了！</p>
<p>为了让你避免googling，文档中遨游以及我碰到的问题，我搜集了一些认为对你开始有用的资源和信息</p>
<p><strong>Gulp + Browserify starter repo</strong></p>
<p>我已经创建了<a href="https://github.com/greypants/gulp-starter" target="_blank" rel="external">Gulp + Browserify starter repo</a>并配有如何完成一些常规任务和工作流的例子。</p>
<a id="more"></a>
<ul>
<li><a href="https://github.com/greypants/gulp-starter/blob/master/package.json#L15" target="_blank" rel="external">Compile CoffeeScript</a>(带有<a href="https://github.com/greypants/gulp-starter/blob/master/gulp/tasks/browserify.js#L13" target="_blank" rel="external">source map</a>)</li>
<li><a href="https://github.com/greypants/gulp-starter/blob/master/package.json#L16" target="_blank" rel="external">Compile Handlebars Templates</a></li>
<li><a href="https://github.com/greypants/gulp-starter/blob/master/gulp/tasks/compass.js#L8" target="_blank" rel="external">Compile SASS with Compass</a></li>
<li><a href="https://github.com/greypants/gulp-starter/blob/master/gulp/tasks/compass.js#L17" target="_blank" rel="external">LiveReload</a></li>
<li><a href="https://github.com/greypants/gulp-starter/blob/master/package.json#L19" target="_blank" rel="external">Browserify-shim: require non-CommonJS code, with dependencies</a></li>
<li><a href="https://github.com/greypants/gulp-starter/blob/master/package.json#L10" target="_blank" rel="external">Set up module aliases</a></li>
<li><a href="https://github.com/greypants/gulp-starter/blob/master/gulp/tasks/serve.js" target="_blank" rel="external">Run a static Node server (with logging)</a></li>
<li><a href="https://github.com/greypants/gulp-starter/blob/master/gulp/tasks/open.js" target="_blank" rel="external">Pop open your app in a Browser</a></li>
<li><a href="https://github.com/greypants/gulp-starter/blob/master/gulp/util/handleErrors.js" target="_blank" rel="external">Report Errors through Notification Center</a></li>
<li><a href="https://github.com/greypants/gulp-starter/blob/master/gulp/tasks/images.js#L11" target="_blank" rel="external">Image processing</a></li>
</ul>
<p><strong><a href="https://github.com/greypants/gulp-starter/wiki" target="_blank" rel="external">常见问题集合</a></strong></p>
<p><a href="http://nodejs.org/" target="_blank" rel="external">Node</a>,<a href="https://www.npmjs.org/" target="_blank" rel="external">npm</a>,<a href="http://wiki.commonjs.org/wiki/Modules/1.1" target="_blank" rel="external">CommonJS</a>,<a href="https://www.npmjs.org/doc/json.html" target="_blank" rel="external">package.json</a>…是什么？当我一头扎进这些内容时，多数文档不够详尽，都假设用户对其有些了解的情况下编写的文档。我已经将一些背景知识融入到Wiki中，以此消除我上面提到的Repo的知识隔阂。</p>
<ul>
<li><a href="https://github.com/greypants/gulp-starter/wiki/What-is-a-Module%3F" target="_blank" rel="external">What is a Module?</a></li>
<li><a href="https://github.com/greypants/gulp-starter/wiki/What-is-Node%3F" target="_blank" rel="external">What is Node?</a></li>
<li><a href="https://github.com/greypants/gulp-starter/wiki/What-is-npm%3F" target="_blank" rel="external">What is npm?</a></li>
<li><a href="https://github.com/greypants/gulp-starter/wiki/What-is-package.json%3F" target="_blank" rel="external">What is package.json?</a></li>
<li><a href="https://github.com/greypants/gulp-starter/wiki/What-is-Browserify%3F" target="_blank" rel="external">What is Browserify?</a></li>
<li><a href="https://github.com/greypants/gulp-starter/wiki/What-is-Gulp%3F" target="_blank" rel="external">What is Gulp?</a></li>
</ul>
<p><strong>为何Gulp很好？</strong></p>
<p><strong>它是有意义的。</strong></p>
<p>在学了Grunt几天后我就学习了Gulp，无论什么原因，我发现它很容易掌握并且工作起来很享受。通过不同的过程输出文件流的想法很有赞。</p>
<blockquote>
<p>gulp’s use of streams and code-over-configuration makes for a simpler and more intuitive build. - gulpjs.com</p>
</blockquote>
<p>下面是一个图片处理的过程：</p>
<pre><code><span class="keyword">var</span> gulp       = <span class="built_in">require</span>(<span class="string">'gulp'</span>);
<span class="keyword">var</span> imagemin   = <span class="built_in">require</span>(<span class="string">'gulp-imagemin'</span>);

gulp.task(<span class="string">'images'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{
    <span class="keyword">return</span> gulp.src(<span class="string">'./src/images/**'</span>)
        .pipe(imagemin())
        .pipe(gulp.dest(<span class="string">'./build/images'</span>));
});
</code></pre><p>首先，<code>gulp.src</code>定位到资源文件用于接下来的各种任务。在这个例子中，我使文件经过<code>gulp-imagemin</code>，然后通过<code>gulp.dest()</code>输出到我的<code>build</code>目录。若想添加额外的操作（重命名，改变尺寸，自动加载等），只需要在任务流中加载更多的管道。</p>
<p><strong>速度</strong></p>
<p>Gulp是相当的快，我刚刚完成了一个相当复杂的app，它编译Sass，SourceMap的CoffeeScript，Handlebars的模板以及自动加载。这些看起来貌似都不是问题。</p>
<blockquote>
<p>By harnessing the power of node’s streams you get fast builds that don’t write intermediary files to disk. - gulpjs.com</p>
</blockquote>
<p><strong>打散任务配置文件</strong></p>
<p>gulpfile就是在使用gulp时的任务配置，如果你使用过grunt，它就像gruntfile。在经历一些实验，收到一些提交建议和学习Node/CommonJS多棒之后，我拆分了所有的任务到单个文件中，然后通过gulpfile.js组合起来。</p>
<pre><code><span class="atom">var</span> <span class="atom">gulp</span> = <span class="atom">require</span>(<span class="string">'./gulp'</span>)([
    <span class="string">'browserify'</span>,
    <span class="string">'compass'</span>,
    <span class="string">'images'</span>,
    <span class="string">'open'</span>,
    <span class="string">'watch'</span>,
    <span class="string">'serve'</span>
]);

<span class="atom">gulp</span>.<span class="atom">task</span>(<span class="string">'build'</span>, [<span class="string">'browserify'</span>, <span class="string">'compass'</span>, <span class="string">'images'</span>]);
<span class="atom">gulp</span>.<span class="atom">task</span>(<span class="string">'default'</span>, [<span class="string">'build'</span>, <span class="string">'watch'</span>, <span class="string">'serve'</span>, <span class="string">'open'</span>]);
</code></pre><p>200个字符，很简洁，对吧？这里发生了什么：我引入了在<code>./gulp/index.js</code>中创建的gulp模块，然后以一个列表的形式将在<code>./gulp/tasks</code>文件夹下创建的任务文件。</p>
<pre><code><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);

<span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">tasks</span>) </span>{
    tasks.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">name</span>) </span>{
        gulp.task(name, <span class="built_in">require</span>(<span class="string">'./tasks/'</span> + name));
    });

    <span class="keyword">return</span> gulp;
};
</code></pre><p>我们传给这个方法的每一个任务名，都是在<code>.／tasks／</code>文件夹下的独立文件暴露出的方法。现在每一个任务都被注册，可以在一个大任务里面使用，例如像定义在gulpfile尾部的default。</p>
<p><img src="/assets/images/gulp-struct.png" alt="img"></p>
<p>这样就可以重用而且在新项目中很容易建立，阅读<a href="https://github.com/gulpjs/gulp/blob/master/docs/README.md" target="_blank" rel="external">gulp doc</a>获得更多知识。</p>
<p><strong>为何Browserify很好？</strong></p>
<blockquote>
<p>“Browserify lets you require(‘modules’) in the browser by bundling up all of your dependencies.” - Browserify.org</p>
</blockquote>
<p>Browserify就像一个单独的文件，遵守require依赖原理同时把他们合并为一个新文件，你可以在命令行里使用或者通过Node中的API在gulp中调用。</p>
<p><strong>基础的API例子</strong></p>
<p><strong>app.js</strong></p>
<pre><code><span class="keyword">var</span> hideElement = <span class="built_in">require</span>(<span class="string">'./hideElement'</span>);

hideElement(<span class="string">'#some-id'</span>);
</code></pre><p><strong>hideElement.js</strong></p>
<pre><code><span class="keyword">var</span> $ = <span class="built_in">require</span>(<span class="string">'jquery'</span>);
<span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">selector</span>) </span>{
    <span class="keyword">return</span> $(selector).hide();
};
</code></pre><p><strong>gulpfile.js</strong></p>
<pre><code><span class="keyword">var</span> browserify = <span class="built_in">require</span>(<span class="string">'browserify'</span>);
<span class="keyword">var</span> bundle = browserify(<span class="string">'./app.js'</span>).bundle()
</code></pre><p>通过Browserify调用app.js经历如下过程：</p>
<ol>
<li>app.js 依赖 hideElement.js</li>
<li>hideElement.js需要jquery.js模块</li>
<li>把jQuery，hideElement.js,app.js捆绑在一起，在使用之前确保没有依赖的文件都存在</li>
</ol>
<p>###CommonJs到AMD###</p>
<p>我们的团队已经开始以Require.js和Almond.js的模块化开发，他俩其实是实现了AMD规范。我们喜欢这样组织代码并从中获益，可是…</p>
<p><strong>AMD和Require.js感觉很笨重和不便</strong></p>
<pre><code><span class="built_in">require</span>([
    <span class="string">'./thing1'</span>,
    <span class="string">'./thing2'</span>,
    <span class="string">'./thing3'</span>
], <span class="function"><span class="keyword">function</span>(<span class="params">thing1, thing2, thing3</span>) </span>{
    <span class="comment">// Tell the module what to return/export</span>
    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{
        <span class="built_in">console</span>.log(thing1, thing2, thing3);
    };
});
</code></pre><p><strong>第一次使用CommonJs模块的时候感觉很自然</strong></p>
<pre><code>ar thing1 = <span class="built_in">require</span>(<span class="string">'./thing1'</span>);
<span class="keyword">var</span> thing2 = <span class="built_in">require</span>(<span class="string">'./thing2'</span>);
<span class="keyword">var</span> thing3 = <span class="built_in">require</span>(<span class="string">'./thing3'</span>);

<span class="comment">// Tell the module what to return/export</span>
<span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{
    <span class="built_in">console</span>.log(thing1, thing2, thing3);
};
</code></pre><p>确保阅读<a href="http://nodejs.org/api/modules.html#modules_file_modules" target="_blank" rel="external"> how require calls resolve to files, folders, and node_modules</a></p>
<p>###Browserify很棒是因为Node和NPM很棒###</p>
<p>Node使用CommonJs模式来提供模块管理，真正使其强大的是通过NPM可以快速安装，更新和管理依赖。你一旦尝试过此种组合，你将会一直需要它。Browerify就是把这种模式带到浏览器端。</p>
<p>若需要jQuery，一般情况，你会打开浏览器在jQuery.com上找到最新的版本的，然后下载到一个文件夹里，然后在你的布局里添加script标签，同时使其附加到window对象上作为全局对象。</p>
<p>通过NPM和Browserify，你只需要：</p>
<pre><code>npm <span class="operator"><span class="keyword">install</span> jquery <span class="comment">--save</span></span>
</code></pre><p>app.js</p>
<pre><code>var <span class="variable">$ </span>= <span class="keyword">require</span>(<span class="string">'jquery'</span>);
<span class="variable">$(</span><span class="string">'.haters'</span>).fadeOut();
</code></pre><p>这些代码表示从NPM下载最新的jQuery版本，并保存到你项目根目录下的node_modules文件夹中。<code>--save</code>参数代表在package.json中的dependencies添加此包。现在你可以在当前项目下的任何文件中<code>require(&quot;jquery&quot;)</code>。jQuery对象通过var $ 暴露在局部作用域内，而不是在window下的全局作用域。当我在第三方网站引入我的代码同时该网站有其他版本的jquery时，这种模式会很好，避免版本冲突的可能。</p>
<p>###Transforms的能力###</p>
<p>在打包Js文件之前，Browserify通过一些<a href="https://github.com/substack/node-browserify/wiki/list-of-transforms" target="_blank" rel="external">transform</a>可以很轻松的预处理你的文件然后打包到一个文件里。就是编译.coffee或.hbs文件到合并的文件里。</p>
<p>常规的做法是在package.json的<code>browserify.transform</code>下列出你的transforms。Browserify会按照你列的顺序执行。这都假设已经通过npm install 安装了它们。</p>
<pre><code><span class="string">"browserify"</span>: {
    <span class="string">"transform"</span>: [<span class="string">"coffeeify"</span>, <span class="string">"hbsfy"</span> ]
  },
 <span class="string">"devDependencies"</span>: {
    <span class="string">"browserify"</span>: <span class="string">"~3.36.0"</span>,
    <span class="string">"coffeeify"</span>: <span class="string">"~0.6.0"</span>,
    <span class="string">"hbsfy"</span>: <span class="string">"~1.3.2"</span>,
    <span class="string">"gulp"</span>: <span class="string">"~3.6.0"</span>,
    <span class="string">"vinyl-source-stream"</span>: <span class="string">"~0.1.1"</span>
  }
</code></pre><p>注意：因为transforms只在预处理中使用并且不需要在输出JS中使用所以我在<code>devDependencies</code>中列出了它们。你可以使用<code>--save-dev</code>或<code>-D</code>自动添加到<code>devDependencies</code>中。</p>
<p>现在我们可以使用<code>require(&#39;./view.coffee&#39;)</code>和<code>require(&#39;./template.hbs&#39;)</code>就像使用其他JS文件一样。我们可以使用<code>extentions</code>选项来使Browserify辨认出扩展，所以我们不需要在require中指明后缀。</p>
<pre><code><span class="tag">browserify</span>({
    <span class="attribute">entries</span>: [<span class="string">'./src/javascript/app.coffee'</span>],
    <span class="attribute">extensions</span>: [<span class="string">'.coffee'</span>, <span class="string">'.hbs'</span>]
})
<span class="class">.bundle</span>()
...
</code></pre><p>在这里看<a href="https://github.com/greypants/gulp-starter/blob/master/gulp/tasks/browserify.js" target="_blank" rel="external">事例</a></p>
<p>###同时使用Gulp和Browserify###</p>
<p>起初，我使用<code>gulp-browserify</code>插件，但是几礼拜之后发现Gulp把它加入黑名单了，原来插件不是必须的，可以直接使用node-browserify API,借助<a href="https://www.npmjs.org/package/vinyl-source-stream" target="_blank" rel="external">vinyl-source-stream</a>，可以使合并的文件变为gulp需要的流。直接使用Browserify可以100%获得最新版本的特性。</p>
<p><strong>基础方法</strong></p>
<pre><code><span class="keyword">var</span> browserify = <span class="built_in">require</span>(<span class="string">'browserify'</span>);
<span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);
<span class="keyword">var</span> source = <span class="built_in">require</span>(<span class="string">'vinyl-source-stream'</span>);

gulp.task(<span class="string">'browserify'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{
    <span class="keyword">return</span> browserify(<span class="string">'./src/javascript/app.js'</span>)
        .bundle()
        <span class="comment">//Pass desired output filename to vinyl-source-stream</span>
        .pipe(source(<span class="string">'bundle.js'</span>))
        <span class="comment">// Start piping stream to tasks!</span>
        .pipe(gulp.dest(<span class="string">'./build/'</span>));
});
</code></pre><p><strong>高级用法</strong></p>
<p>查看一下<a href="https://github.com/greypants/gulp-starter/blob/master/gulp/tasks/browserify.js" target="_blank" rel="external">browserify.js task</a>和<a href="https://github.com/greypants/gulp-starter/blob/master/package.json" target="_blank" rel="external">package.json</a>中是如何为CoffeeScript和Handlebars预编译的。通过<a href="https://github.com/thlorenz/browserify-shim" target="_blank" rel="external">browserify-shim</a>j创建没有共同的JS模块同时使用消息中心来处理编译错误。阅读这些<a href="https://github.com/substack/node-browserify#api-example" target="_blank" rel="external">API</a>来了解Browserify能做的东西。</p>

      
    </div>
    <footer class="article-footer">
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/04/08/reload-vs-href/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">&lt;</strong>
      <div class="article-nav-title">
        
          reload vs href
        
      </div>
    </a>
  
  
    <a href="/2015/03/12/更好的事件处理/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">更好的事件处理</div>
      <strong class="article-nav-caption">&gt;</strong>
    </a>
  
</nav>

  
</article>


<div class="share">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到：</span>
		<a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
		<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>



<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="Gulp-Browserify" data-title="Gulp+Browserify" data-url="http://zhuxinyong.com/2015/03/17/Gulp-Browserify/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"zhuxinyong"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Zhuxy
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>
  <script src="/js/main.js" type="text/javascript"></script>

  </div>
</body>
</html>