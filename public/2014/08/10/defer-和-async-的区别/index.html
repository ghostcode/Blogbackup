<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>defer 和 async 的区别 | 关于生活，关于前端</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="wumiiVerification" content="e6510660-240e-4909-8068-663f55fc7795" />
  <meta name="description" content="加载javascript一直是页面优化的重头戏，defer和async又可以帮助一些：
async:

Set this Boolean attribute to indicate that the browser should, if possible, execute the script asynchronously. It has no effect on inline scripts (">
<meta property="og:type" content="article">
<meta property="og:title" content="defer 和 async 的区别">
<meta property="og:url" content="http://zhuxinyong.com/2014/08/10/defer-和-async-的区别/index.html">
<meta property="og:site_name" content="关于生活，关于前端">
<meta property="og:description" content="加载javascript一直是页面优化的重头戏，defer和async又可以帮助一些：
async:

Set this Boolean attribute to indicate that the browser should, if possible, execute the script asynchronously. It has no effect on inline scripts (">
<meta property="og:updated_time" content="2016-11-15T13:34:18.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="defer 和 async 的区别">
<meta name="twitter:description" content="加载javascript一直是页面优化的重头戏，defer和async又可以帮助一些：
async:

Set this Boolean attribute to indicate that the browser should, if possible, execute the script asynchronously. It has no effect on inline scripts (">
  
    <link rel="alternative" href="/atom.xml" title="关于生活，关于前端" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  
<script type="text/javascript">
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?8c6506f2771c14e5184e4b40cb38aac2";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

  <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<div class="profilepic">
			<img src="https://avatars0.githubusercontent.com/u/745181?v=2&amp;s=460">
		</div>

		<hgroup>
		  <h1 class="header-author"><a href="/">Zhuxy</a></h1>
		</hgroup>

		

		
			<div class="onoffswitch">
			    <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch" checked>
			    <label class="onoffswitch-label" for="myonoffswitch">
			        <span class="onoffswitch-inner"></span>
			        <span class="onoffswitch-switch"></span>
			    </label>
			</div>
		

		<div class="switch-area">
			<section class="first-part">
				<nav class="header-menu">
					<ul>
					
						<li><a href="/">主页</a></li>
			        
						<li><a href="/archives">所有文章</a></li>
			        
						<li><a href="/about">关于</a></li>
			        
					</ul>
				</nav>
				<nav class="header-nav">
					<div class="social">
						
							<a class="github" target="_blank" href="https://github.com/ghostcode" title="github">github</a>
				        
							<a class="weibo" target="_blank" href="http://weibo.com/ghostcode" title="weibo">weibo</a>
				        
					</div>
				</nav>
			</section>
			
			
			<section class="second-part">
				<div class="widget tagcloud">
					<a href="/tags/Ajax/" style="font-size: 10px;">Ajax</a> <a href="/tags/ES6/" style="font-size: 10px;">ES6</a> <a href="/tags/Express/" style="font-size: 10px;">Express</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Grunt/" style="font-size: 10px;">Grunt</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="/tags/Javascript/" style="font-size: 20px;">Javascript</a> <a href="/tags/Mac/" style="font-size: 10px;">Mac</a> <a href="/tags/Node/" style="font-size: 10px;">Node</a> <a href="/tags/Node-Express/" style="font-size: 10px;">Node Express</a> <a href="/tags/Sublime/" style="font-size: 20px;">Sublime</a> <a href="/tags/chrome/" style="font-size: 10px;">chrome</a> <a href="/tags/css3/" style="font-size: 10px;">css3</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/promise/" style="font-size: 10px;">promise</a> <a href="/tags/regexp/" style="font-size: 10px;">regexp</a> <a href="/tags/webcomponents/" style="font-size: 10px;">webcomponents</a> <a href="/tags/架构/" style="font-size: 10px;">架构</a> <a href="/tags/浏览器/" style="font-size: 10px;">浏览器</a> <a href="/tags/特效/" style="font-size: 10px;">特效</a>
				</div>
			</section>
			
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay"></div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="https://avatars0.githubusercontent.com/u/745181?v=2&amp;s=460">
			</div>

			<hgroup>
			  <h1 class="header-author"><a href="/">Zhuxy</a></h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/about">关于</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/ghostcode" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/ghostcode" title="weibo">weibo</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <article id="post-defer-和-async-的区别" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2014/08/10/defer-和-async-的区别/" class="article-date">
  	<time datetime="2014-08-10T06:59:26.000Z" itemprop="datePublished">Aug 10 2014</time>
</a>
      
      
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      defer 和 async 的区别
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>加载javascript一直是页面优化的重头戏，defer和async又可以帮助一些：</p>
<p><strong>async:</strong></p>
<blockquote>
<p>Set this Boolean attribute to indicate that the browser should, if possible, execute the script asynchronously. It has no effect on inline scripts (i.e., scripts that don’t have the src attribute).</p>
</blockquote>
<p>大意：</p>
<blockquote>
<p>设置此Boolean属性就是让浏览器异步的执行此脚本，它对内敛脚本无效（就是没有src属性的脚本）</p>
</blockquote>
<p><strong>defer:</strong></p>
<blockquote>
<p>This Boolean attribute is set to indicate to a browser that the script is meant to be executed after the document has been parsed. </p>
</blockquote>
<p>大意：</p>
<blockquote>
<p>设置此Boolean属性就是告诉浏览器在DOM节点解析完毕之前执行。</p>
</blockquote>
<p>文档说的很少，其实还有好多东西，这里直接记录其异同：</p>
<p><strong>同：</strong></p>
<ul>
<li>不阻塞页面的渲染</li>
<li>只能应用在通过src属性连接的javascript</li>
<li>此脚本内部不能有document.write</li>
<li>加载完成后可以触发onload事件</li>
</ul>
<p><strong>异：</strong></p>
<ul>
<li>出现的版本不同defer属于HTML4,async属于HTML5</li>
<li>各浏览器支持程度不同（IE4开始支持defer）</li>
<li>执行时机不同（defer在页面渲染完成之后执行，async在加载完成之后就执行）</li>
<li>执行的顺序不同（defer会严格按照页面出现的顺序执行，async在能执行的时候就会执行，有可能会顺序颠倒）</li>
</ul>
<p>注：</p>
<p><strong>正是由于async的执行顺序不可控，在具有依赖的脚本加载时不可以使用。对于没有依赖的代码可以使用比如统计代码、或者一个页面的单一脚本等</strong></p>
<p>参考：</p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/script" target="_blank" rel="external">https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/script</a></p>
<p><a href="http://stackoverflow.com/questions/10808109/script-tag-async-defer" target="_blank" rel="external">http://stackoverflow.com/questions/10808109/script-tag-async-defer</a></p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Mozilla_event_reference/DOMContentLoaded_(event" target="_blank" rel="external">https://developer.mozilla.org/zh-CN/docs/Mozilla_event_reference/DOMContentLoaded_(event</a>)</p>
<p><a href="http://ued.ctrip.com/blog/?p=3121" target="_blank" rel="external">http://ued.ctrip.com/blog/?p=3121</a></p>

      
    </div>
    <footer class="article-footer">
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2014/08/20/Karma和Jasmine/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">&lt;</strong>
      <div class="article-nav-title">
        
          Karma和Jasmine
        
      </div>
    </a>
  
  
    <a href="/2014/08/06/chrome使用技巧/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">chrome使用技巧</div>
      <strong class="article-nav-caption">&gt;</strong>
    </a>
  
</nav>

  
</article>


<div class="share">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到：</span>
		<a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
		<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>



<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="defer-和-async-的区别" data-title="defer 和 async 的区别" data-url="http://zhuxinyong.com/2014/08/10/defer-和-async-的区别/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"zhuxinyong"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Zhuxy
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>
  <script src="/js/main.js" type="text/javascript"></script>

  </div>
</body>
</html>