<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Express入门 | 关于生活，关于前端</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="wumiiVerification" content="e6510660-240e-4909-8068-663f55fc7795" />
  <meta name="description" content="此文为翻译，删改了一些东西。
1.Express安装
假设你对Node和npm已经有些熟悉，新建一个文件夹：node
1.1第一种方法：
首先在node文件夹里，我们新建package.json来配置Express应用的一些信息。
12345678&amp;#123;    &quot;name&quot;: &quot;demo1&quot;,    &quot;description&quot;: &quot;First Express app&quot;,    &quot;versio">
<meta property="og:type" content="article">
<meta property="og:title" content="Express入门">
<meta property="og:url" content="http://zhuxinyong.com/2014/11/01/Express入门/index.html">
<meta property="og:site_name" content="关于生活，关于前端">
<meta property="og:description" content="此文为翻译，删改了一些东西。
1.Express安装
假设你对Node和npm已经有些熟悉，新建一个文件夹：node
1.1第一种方法：
首先在node文件夹里，我们新建package.json来配置Express应用的一些信息。
12345678&amp;#123;    &quot;name&quot;: &quot;demo1&quot;,    &quot;description&quot;: &quot;First Express app&quot;,    &quot;versio">
<meta property="og:updated_time" content="2015-09-22T05:29:43.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Express入门">
<meta name="twitter:description" content="此文为翻译，删改了一些东西。
1.Express安装
假设你对Node和npm已经有些熟悉，新建一个文件夹：node
1.1第一种方法：
首先在node文件夹里，我们新建package.json来配置Express应用的一些信息。
12345678&amp;#123;    &quot;name&quot;: &quot;demo1&quot;,    &quot;description&quot;: &quot;First Express app&quot;,    &quot;versio">
  
    <link rel="alternative" href="/atom.xml" title="关于生活，关于前端" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  
<script type="text/javascript">
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?8c6506f2771c14e5184e4b40cb38aac2";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

  <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<div class="profilepic">
			<img src="https://avatars0.githubusercontent.com/u/745181?v=2&amp;s=460">
		</div>

		<hgroup>
		  <h1 class="header-author"><a href="/">Zhuxy</a></h1>
		</hgroup>

		

		
			<div class="onoffswitch">
			    <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch" checked>
			    <label class="onoffswitch-label" for="myonoffswitch">
			        <span class="onoffswitch-inner"></span>
			        <span class="onoffswitch-switch"></span>
			    </label>
			</div>
		

		<div class="switch-area">
			<section class="first-part">
				<nav class="header-menu">
					<ul>
					
						<li><a href="/">主页</a></li>
			        
						<li><a href="/archives">所有文章</a></li>
			        
						<li><a href="/about">关于</a></li>
			        
					</ul>
				</nav>
				<nav class="header-nav">
					<div class="social">
						
							<a class="github" target="_blank" href="https://github.com/ghostcode" title="github">github</a>
				        
							<a class="weibo" target="_blank" href="http://weibo.com/ghostcode" title="weibo">weibo</a>
				        
					</div>
				</nav>
			</section>
			
			
			<section class="second-part">
				<div class="widget tagcloud">
					<a href="/tags/Ajax/" style="font-size: 10px;">Ajax</a> <a href="/tags/ES6/" style="font-size: 10px;">ES6</a> <a href="/tags/Express/" style="font-size: 10px;">Express</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Grunt/" style="font-size: 10px;">Grunt</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="/tags/Javascript/" style="font-size: 20px;">Javascript</a> <a href="/tags/Mac/" style="font-size: 10px;">Mac</a> <a href="/tags/Node/" style="font-size: 10px;">Node</a> <a href="/tags/Node-Express/" style="font-size: 10px;">Node Express</a> <a href="/tags/Sublime/" style="font-size: 20px;">Sublime</a> <a href="/tags/chrome/" style="font-size: 10px;">chrome</a> <a href="/tags/css3/" style="font-size: 10px;">css3</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/promise/" style="font-size: 10px;">promise</a> <a href="/tags/regexp/" style="font-size: 10px;">regexp</a> <a href="/tags/webcomponents/" style="font-size: 10px;">webcomponents</a> <a href="/tags/架构/" style="font-size: 10px;">架构</a> <a href="/tags/浏览器/" style="font-size: 10px;">浏览器</a> <a href="/tags/特效/" style="font-size: 10px;">特效</a>
				</div>
			</section>
			
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay"></div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="https://avatars0.githubusercontent.com/u/745181?v=2&amp;s=460">
			</div>

			<hgroup>
			  <h1 class="header-author"><a href="/">Zhuxy</a></h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/about">关于</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/ghostcode" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/ghostcode" title="weibo">weibo</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <article id="post-Express入门" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2014/11/01/Express入门/" class="article-date">
  	<time datetime="2014-11-01T12:41:46.000Z" itemprop="datePublished">Nov 1 2014</time>
</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Express/">Express</a></li></ul>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Express入门
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>此文为翻译，删改了一些东西。</p>
<p>1.Express安装</p>
<p>假设你对Node和npm已经有些熟悉，新建一个文件夹：node</p>
<p>1.1第一种方法：</p>
<p>首先在node文件夹里，我们新建<strong>package.json</strong>来配置Express应用的一些信息。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    "<span class="attribute">name</span>": <span class="value"><span class="string">"demo1"</span></span>,</span><br><span class="line">    "<span class="attribute">description</span>": <span class="value"><span class="string">"First Express app"</span></span>,</span><br><span class="line">    "<span class="attribute">version</span>": <span class="value"><span class="string">"0.0.1"</span></span>,</span><br><span class="line">    "<span class="attribute">dependencies</span>": <span class="value">&#123;</span><br><span class="line">       "<span class="attribute">express</span>": <span class="value"><span class="string">"^4.10.1"</span></span>,</span><br><span class="line">    &#125;</span><br><span class="line"></span>&#125;</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>然后到终端里面输入：</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span></span><br></pre></td></tr></table></figure>
<p>然后程序就会自动安装Express。</p>
<p>1.2第二种方法：</p>
<p>在终端cd node然后输入：</p>
<pre><code><span class="built_in">npm</span> init
</code></pre><p>然后一路回车，最后输入<strong>yes</strong>，会自动生成<strong>package.json</strong>文件。</p>
<p>2.创建程序入口文件：app.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line">app.listen(<span class="number">3000</span>);</span><br></pre></td></tr></table></figure>
<p>在我学习一个新框架时，总会把节奏放的很慢，以至于不把问题变得很复杂。</p>
<p>3.定义程序的路由</p>
<p>现在让我们来给程序定义一些路由，Express通过API方法可以相应许多HTTP请求，请看下面例子：</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Regular HTTP get</span></span><br><span class="line"><span class="keyword">app</span>.<span class="literal">get</span>(some url, <span class="keyword">do</span> something);</span><br><span class="line"> </span><br><span class="line"><span class="comment">//Some other page</span></span><br><span class="line"><span class="keyword">app</span>.<span class="literal">get</span>(some other url, <span class="keyword">do</span> something <span class="keyword">else</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">//I can respond to a form post</span></span><br><span class="line"><span class="keyword">app</span>.<span class="keyword">post</span>(some url, <span class="keyword">do</span> <span class="keyword">more</span> stuff);</span><br></pre></td></tr></table></figure>
<p>接下来我们添加一个真正的首页路由：</p>
<pre><code>app.<span class="keyword">get</span>(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span><span class="params">(request, response)</span> </span>{
    response.send(<span class="string">"This would be some HTML"</span>);
});    
</code></pre><p>注意现在我们在response上添加来一个send方法。如果到现在没有任何异常，你可以在终端输入<strong>node app.js</strong>来启动程序，并访问<a href="http://127.0.0.1:3000/" target="_blank" rel="external">http://127.0.0.1:3000/</a></p>
<p>此时在页面上你应该看到：</p>
<pre><code>This would be <span class="keyword">some</span> HTML
</code></pre><p>send方法可以处理不同数据类型的数据，假设你需要为你的站点添加JSON-based API，你可以简单的返回一个对象而不是字符串，Express可以自动把结果转换为JSON同时设置正确的相应头部：</p>
<pre><code><span class="tag">app</span><span class="class">.get</span>(<span class="string">'/api'</span>, <span class="function">function</span>(request, response) {
    <span class="tag">response</span><span class="class">.send</span>({<span class="attribute">name</span>:<span class="string">"Raymond"</span>,<span class="attribute">age</span>:<span class="number">40</span>});
});
</code></pre><p>3.生成一个blog程序</p>
<p>我们的第一个程序是一个blog，它看起来没有什么但是应该有的基本知识都包含了。package.json保持原样不做修改，修改app.js如下：</p>
<pre><code><span class="keyword">var</span> express = require(<span class="string">'express'</span>);
<span class="keyword">var</span> app = express();

app.<span class="keyword">get</span>(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span><span class="params">(req, res)</span> </span>{
    res.sendfile(<span class="string">'./views/index.html'</span>);
});

app.<span class="keyword">get</span>(<span class="string">'/about'</span>, <span class="function"><span class="keyword">function</span><span class="params">(req, res)</span> </span>{
    res.sendfile(<span class="string">'./views/about.html'</span>);
});

app.<span class="keyword">get</span>(<span class="string">'/article'</span>, <span class="function"><span class="keyword">function</span><span class="params">(req, res)</span> </span>{
    res.sendfile(<span class="string">'./views/article.html'</span>);
});

app.listen(<span class="number">3000</span>);
</code></pre><p>此时我们把send方法改为sendfile，并且在app.js里面引入了html。同时添加了首页，关于和文章页面。</p>
<p>接着我们在项目根目录添加views文件夹，并添加index.html,about.html和artical.html。index.html里面添加：</p>
<pre><code><span class="tag">&lt;<span class="title">html</span>&gt;</span>
<span class="tag">&lt;<span class="title">head</span>&gt;</span>
    <span class="tag">&lt;<span class="title">title</span>&gt;</span>Home Page<span class="tag">&lt;/<span class="title">title</span>&gt;</span>
<span class="tag">&lt;/<span class="title">head</span>&gt;</span>

<span class="tag">&lt;<span class="title">body</span>&gt;</span>
<span class="tag">&lt;<span class="title">h1</span>&gt;</span>Blog!<span class="tag">&lt;/<span class="title">h1</span>&gt;</span>

<span class="tag">&lt;<span class="title">footer</span>&gt;</span>
<span class="tag">&lt;<span class="title">p</span>&gt;</span>
    <span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"/"</span>&gt;</span>Home<span class="tag">&lt;/<span class="title">a</span>&gt;</span> ~ <span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"/about"</span>&gt;</span>About Me<span class="tag">&lt;/<span class="title">a</span>&gt;</span> ~ <span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"/article"</span>&gt;</span>Some Article<span class="tag">&lt;/<span class="title">a</span>&gt;</span>
<span class="tag">&lt;/<span class="title">p</span>&gt;</span>
<span class="tag">&lt;/<span class="title">footer</span>&gt;</span>

<span class="tag">&lt;/<span class="title">body</span>&gt;</span>
<span class="tag">&lt;/<span class="title">html</span>&gt;</span>
</code></pre><p>到目前为止并没有什么特别的，就是一些静态文件。终端里面终止程序，然后再启动程序访问首页应该看到上面写的一些东西。</p>
<p>4.改为动态应用</p>
<p>Express支持很多模版引擎（Jade，EJS……），但是我很喜欢Hanlebars所以在接下来的程序中选择了它。在我们的package.json里面添加：</p>
<pre><code>{
    "<span class="attribute">name</span>": <span class="value"><span class="string">"blog2"</span></span>,
    "<span class="attribute">description</span>": <span class="value"><span class="string">"Blog app"</span></span>,
    "<span class="attribute">version</span>": <span class="value"><span class="string">"0.0.1"</span></span>,
    "<span class="attribute">dependencies</span>": <span class="value">{
        "<span class="attribute">express</span>": <span class="value"><span class="string">"3.x"</span></span>,
        "<span class="attribute">hbs</span>":<span class="value"><span class="string">"*"</span>
    </span>}
</span>}
</code></pre><p>接下来我们需要在app.js中使用它：</p>
<pre><code><span class="keyword">var</span> express = require(<span class="string">'express'</span>);
<span class="keyword">var</span> app = express();

<span class="keyword">var</span> hbs = require(<span class="string">'hbs'</span>);

app.<span class="keyword">set</span>(<span class="string">'view engine'</span>, <span class="string">'html'</span>);
app.engine(<span class="string">'html'</span>, hbs.__express);

app.<span class="keyword">get</span>(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span><span class="params">(req, res)</span> </span>{
    res.render(<span class="string">'index'</span>);
});

app.<span class="keyword">get</span>(<span class="string">'/about'</span>, <span class="function"><span class="keyword">function</span><span class="params">(req, res)</span> </span>{
    res.render(<span class="string">'about'</span>);
});

app.<span class="keyword">get</span>(<span class="string">'/article'</span>, <span class="function"><span class="keyword">function</span><span class="params">(req, res)</span> </span>{
    res.render(<span class="string">'article'</span>);
});

app.listen(<span class="number">3000</span>);
</code></pre><p>通过“view engine”告诉Express使用HTML作为动态文件，但这并不是必须的。“app.engine”才是指定何种引擎来渲染页面的。最后我们使用了render方法Express默认去views文件夹去加载页面文件，同时也会忽略文件后缀名，所以<strong>res.render(‘something’)</strong>等同于<strong>views/something.html</strong>，然后根据我们设置的模版引擎来渲染页面。</p>
<p>4.首页展示文章</p>
<p>为了保持教程简单这里并没有使用数据库，但是我们会模拟一些数据。在项目根目录创建：blog.js</p>
<pre><code><span class="keyword">var</span> entries = [
{<span class="string">"id"</span>:<span class="number">1</span>, <span class="string">"title"</span>:<span class="string">"Hello World!"</span>, <span class="string">"body"</span>:<span class="string">"This is the body of my blog entry. Sooo exciting."</span>, <span class="string">"published"</span>:<span class="string">"6/2/2013"</span>},
{<span class="string">"id"</span>:<span class="number">2</span>, <span class="string">"title"</span>:<span class="string">"Eggs for Breakfast"</span>, <span class="string">"body"</span>:<span class="string">"Today I had eggs for breakfast. Sooo exciting."</span>, <span class="string">"published"</span>:<span class="string">"6/3/2013"</span>},
{<span class="string">"id"</span>:<span class="number">3</span>, <span class="string">"title"</span>:<span class="string">"Beer is Good"</span>, <span class="string">"body"</span>:<span class="string">"News Flash! Beer is awesome!"</span>, <span class="string">"published"</span>:<span class="string">"6/4/2013"</span>},
{<span class="string">"id"</span>:<span class="number">4</span>, <span class="string">"title"</span>:<span class="string">"Mean People Suck"</span>, <span class="string">"body"</span>:<span class="string">"People who are mean aren't nice or fun to hang around."</span>, <span class="string">"published"</span>:<span class="string">"6/5/2013"</span>},
{<span class="string">"id"</span>:<span class="number">5</span>, <span class="string">"title"</span>:<span class="string">"I'm Leaving Technology X and You Care"</span>, <span class="string">"body"</span>:<span class="string">"Let me write some link bait about why I'm not using a particular technology anymore."</span>, <span class="string">"published"</span>:<span class="string">"6/10/2013"</span>},
{<span class="string">"id"</span>:<span class="number">6</span>, <span class="string">"title"</span>:<span class="string">"Help My Kickstarter"</span>, <span class="string">"body"</span>:<span class="string">"I want a new XBox One. Please fund my Kickstarter."</span>, <span class="string">"published"</span>:<span class="string">"6/12/2013"</span>}];


exports.getBlogEntries = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{
    <span class="keyword">return</span> entries;
}

exports.getBlogEntry = <span class="function"><span class="keyword">function</span><span class="params">(id)</span> </span>{
    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i &lt; entries.length; i++) {
        <span class="keyword">if</span>(entries[i].id == id) <span class="keyword">return</span> entries[i];
    }
}
</code></pre><p>一贯的我们应该有一些：添加／编辑／删除的方法，但是到现在这两个方法足够了。更新app.js如下：</p>
<pre><code><span class="keyword">var</span> express = require(<span class="string">'express'</span>);
<span class="keyword">var</span> app = express();

<span class="keyword">var</span> hbs = require(<span class="string">'hbs'</span>);

<span class="keyword">var</span> blogEngine = require(<span class="string">'./blog'</span>);

app.<span class="keyword">set</span>(<span class="string">'view engine'</span>, <span class="string">'html'</span>);
app.engine(<span class="string">'html'</span>, hbs.__express);
app.<span class="keyword">use</span>(express.bodyParser());

app.<span class="keyword">get</span>(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span><span class="params">(req, res)</span> </span>{
    res.render(<span class="string">'index'</span>,{title:<span class="string">"My Blog"</span>, entries:blogEngine.getBlogEntries()});
});

app.<span class="keyword">get</span>(<span class="string">'/about'</span>, <span class="function"><span class="keyword">function</span><span class="params">(req, res)</span> </span>{
    res.render(<span class="string">'about'</span>, {title:<span class="string">"About Me"</span>});
});

app.<span class="keyword">get</span>(<span class="string">'/article/:id'</span>, <span class="function"><span class="keyword">function</span><span class="params">(req, res)</span> </span>{
    <span class="keyword">var</span> entry = blogEngine.getBlogEntry(req.params.id);
    res.render(<span class="string">'article'</span>,{title:entry.title, blog:entry});
});

app.listen(<span class="number">3000</span>);
</code></pre><p>注意__以上方法使用于Express3.0，要是Express4.0则要把：</p>
<pre><code><span class="tag">app</span><span class="class">.use</span>(<span class="tag">express</span><span class="class">.bodyParser</span>());
</code></pre><p>换为：</p>
<pre><code><span class="keyword">var</span> bodyParser = <span class="keyword">require</span>(<span class="string">'body-parser'</span>);
app.<span class="keyword">use</span>(bodyParser.json());
app.<span class="keyword">use</span>(bodyParser.urlencoded({
  extended: <span class="keyword">true</span>
}));
</code></pre><p>接着我们要修改首页的代码，语法要根据你选择的模版引擎：(可能是hexo也编译大括号,所以我使用＋＋代替了大括号,大家如果复制代码记得改为大括号)</p>
<pre><code>&lt;h1&gt;Blog!&lt;/h1&gt;
++<span class="hexcolor">#eac</span>h entries++
    &lt;p&gt;
        &lt;<span class="tag">a</span> href=<span class="string">"/article/++id++"</span>&gt;++title++&lt;/a&gt;&lt;br/&gt;
        Published: ++published++
    &lt;/p&gt;
++/each++
</code></pre><p>即使你对Hanlebars不熟悉，也应该对上面的代码猜的差不多，就是循环文章列表。</p>
<p>5.添加页面框架</p>
<p>我敢说你现在应该疑惑其他页面结构去哪里了，当你在Express中使用模版引擎时会自动有框架支持。意味着我可以把我站点通用的东西整合到框架中同时Express会自动的在特定的地方输出我们的内容。在views里面创建layout.html:</p>
<pre><code><span class="tag">&lt;<span class="title">html</span>&gt;</span>
<span class="tag">&lt;<span class="title">head</span>&gt;</span>
    <span class="tag">&lt;<span class="title">title</span>&gt;</span>++title++<span class="tag">&lt;/<span class="title">title</span>&gt;</span>
<span class="tag">&lt;/<span class="title">head</span>&gt;</span>
<span class="tag">&lt;<span class="title">body</span>&gt;</span>
    +++body+++
    <span class="tag">&lt;<span class="title">footer</span>&gt;</span>
        <span class="tag">&lt;<span class="title">p</span>&gt;</span>
            <span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"/"</span>&gt;</span>Home<span class="tag">&lt;/<span class="title">a</span>&gt;</span> ~ <span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"/about"</span>&gt;</span>About Me<span class="tag">&lt;/<span class="title">a</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">p</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">footer</span>&gt;</span>
<span class="tag">&lt;/<span class="title">body</span>&gt;</span>
<span class="tag">&lt;/<span class="title">html</span>&gt;</span>
</code></pre><p>6.显示文章内容</p>
<p>更新artical.html:</p>
<pre><code>&lt;<span class="comment">h1</span>&gt;<span class="literal">+</span><span class="literal">+</span><span class="comment">blog</span><span class="string">.</span><span class="comment">title</span><span class="literal">+</span><span class="literal">+</span>&lt;<span class="comment">/h1</span>&gt;
&lt;<span class="comment">p</span>&gt;
    <span class="comment">Published:</span> <span class="literal">+</span><span class="literal">+</span><span class="comment">blog</span><span class="string">.</span><span class="comment">published</span><span class="literal">+</span><span class="literal">+</span>
&lt;<span class="comment">p/</span>&gt;
<span class="literal">+</span><span class="literal">+</span><span class="comment">blog</span><span class="string">.</span><span class="comment">body</span><span class="literal">+</span><span class="literal">+</span>
</code></pre><p>到此我们已经构建完成了我们的应用，重启应用：node app.js。</p>
<p>如果看不到文章列表或者报错：</p>
<pre><code><span class="keyword">module</span>.js:<span class="number">340</span>
    <span class="keyword">throw</span> err;
          ^
<span class="keyword">Error</span>: Cannot find <span class="keyword">module</span> <span class="comment">'/Users/zhuxy/work/node/views/app.js'</span>
    at <span class="keyword">Function</span>.<span class="keyword">Module</span>._resolveFilename (<span class="keyword">module</span>.js:<span class="number">338</span>:<span class="number">15</span>)
    at <span class="keyword">Function</span>.<span class="keyword">Module</span>._load (<span class="keyword">module</span>.js:<span class="number">280</span>:<span class="number">25</span>)
    at <span class="keyword">Function</span>.<span class="keyword">Module</span>.runMain (<span class="keyword">module</span>.js:<span class="number">497</span>:<span class="number">10</span>)
    at startup (node.js:<span class="number">119</span>:<span class="number">16</span>)
    at node.js:<span class="number">906</span>:<span class="number">3</span>
</code></pre><p>问题时没有找到<strong>node_path</strong>路径，在终端输入：</p>
<pre><code><span class="attribute">Linux(Mac)</span>: <span class="string">export NODE_PATH=../node_modules</span>
<span class="attribute">Windows</span>: <span class="string">set NODE_PATH=.</span>
</code></pre><p>我的是：</p>
<pre><code><span class="built_in">export</span> NODE_PATH=/usr/<span class="built_in">local</span>/lib/node_modules
</code></pre><p>到此我们的教程就完了！如有问题请回复 － －</p>
<p>原文：<a href="http://code.tutsplus.com/tutorials/introduction-to-express--net-33367" target="_blank" rel="external">http://code.tutsplus.com/tutorials/introduction-to-express--net-33367</a></p>

      
    </div>
    <footer class="article-footer">
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2014/11/03/使用Express4和Node搭建RESTful-API/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">&lt;</strong>
      <div class="article-nav-title">
        
          使用Express4和Node搭建RESTful API
        
      </div>
    </a>
  
  
    <a href="/2014/10/19/Pub-Sub模式/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Pub/Sub模式</div>
      <strong class="article-nav-caption">&gt;</strong>
    </a>
  
</nav>

  
</article>


<div class="share">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到：</span>
		<a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
		<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>



<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="Express入门" data-title="Express入门" data-url="http://zhuxinyong.com/2014/11/01/Express入门/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"zhuxinyong"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Zhuxy
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>
  <script src="/js/main.js" type="text/javascript"></script>

  </div>
</body>
</html>