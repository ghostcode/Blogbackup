<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>ä½¿ç”¨Express4å’ŒNodeæ­å»ºRESTful API | ç”Ÿæ´»ğŸ˜æŠ€æœ¯</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="å‡ å¤©å‰éšç€Express 4.0çš„å‘å¸ƒï¼Œæˆ‘ä»¬è®¸å¤šNodeé¡¹ç›®çš„è·¯ç”±éœ€è¦è·Ÿç€æ›´æ”¹ã€‚ä¼´éšExpress Routerçš„å˜åŒ–ï¼Œæˆ‘ä»¬åœ¨è®¾ç½®åº”ç”¨è·¯ç”±æ—¶æ›´åŠ çµæ´»ã€‚ ä»Šå¤©æˆ‘ä»¬å°†ä½¿ç”¨Node,Express 4.0å’Œå®ƒçš„è·¯ç”±æ¥åˆ›å»ºRESTful APIï¼ŒåŒæ—¶ä½¿ç”¨Mongooseä¸MongoDBäº¤äº’ã€‚åœ¨Chromeä¸­ä½¿ç”¨Postmanæ¥æµ‹è¯•æˆ‘ä»¬çš„APIã€‚ æ¥ä¸‹æ¥çœ‹çœ‹æˆ‘ä»¬è¦åˆ›å»ºçš„APIä»¥åŠå®ƒçš„ç”¨é€”ã€‚ æˆ‘ä»¬çš„ç¨‹åº æˆ‘ä»¬">
<meta name="keywords" content="Node Express">
<meta property="og:type" content="article">
<meta property="og:title" content="ä½¿ç”¨Express4å’ŒNodeæ­å»ºRESTful API">
<meta property="og:url" content="http://zhuxinyong.com/2014-11-03-ä½¿ç”¨Express4å’ŒNodeæ­å»ºRESTful.html">
<meta property="og:site_name" content="ç”Ÿæ´»ğŸ˜æŠ€æœ¯">
<meta property="og:description" content="å‡ å¤©å‰éšç€Express 4.0çš„å‘å¸ƒï¼Œæˆ‘ä»¬è®¸å¤šNodeé¡¹ç›®çš„è·¯ç”±éœ€è¦è·Ÿç€æ›´æ”¹ã€‚ä¼´éšExpress Routerçš„å˜åŒ–ï¼Œæˆ‘ä»¬åœ¨è®¾ç½®åº”ç”¨è·¯ç”±æ—¶æ›´åŠ çµæ´»ã€‚ ä»Šå¤©æˆ‘ä»¬å°†ä½¿ç”¨Node,Express 4.0å’Œå®ƒçš„è·¯ç”±æ¥åˆ›å»ºRESTful APIï¼ŒåŒæ—¶ä½¿ç”¨Mongooseä¸MongoDBäº¤äº’ã€‚åœ¨Chromeä¸­ä½¿ç”¨Postmanæ¥æµ‹è¯•æˆ‘ä»¬çš„APIã€‚ æ¥ä¸‹æ¥çœ‹çœ‹æˆ‘ä»¬è¦åˆ›å»ºçš„APIä»¥åŠå®ƒçš„ç”¨é€”ã€‚ æˆ‘ä»¬çš„ç¨‹åº æˆ‘ä»¬">
<meta property="og:locale" content="Chinese">
<meta property="og:image" content="http://zhuxinyong.com/assets/images/node-api-start-server.png">
<meta property="og:image" content="http://zhuxinyong.com/assets/images/postman-rest-client-node-api.png">
<meta property="og:image" content="http://zhuxinyong.com/assets/images/node-api-postman-test.png">
<meta property="og:image" content="http://zhuxinyong.com/assets/images/node-api-route-middleware-express.png">
<meta property="og:image" content="http://zhuxinyong.com/assets/images/node-api-postman-post-create-bear.png">
<meta property="og:image" content="http://zhuxinyong.com/assets/images/node-api-postman-get-all.png">
<meta property="og:image" content="http://zhuxinyong.com/assets/images/node-api-postman-get-single.png">
<meta property="og:image" content="http://zhuxinyong.com/assets/images/node-api-post-man-update-record.png">
<meta property="og:image" content="http://zhuxinyong.com/assets/images/node-api-postman-all-updated.png">
<meta property="og:image" content="http://zhuxinyong.com/assets/images/node-api-postman-delete.png">
<meta property="og:updated_time" content="2018-05-28T02:47:23.873Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ä½¿ç”¨Express4å’ŒNodeæ­å»ºRESTful API">
<meta name="twitter:description" content="å‡ å¤©å‰éšç€Express 4.0çš„å‘å¸ƒï¼Œæˆ‘ä»¬è®¸å¤šNodeé¡¹ç›®çš„è·¯ç”±éœ€è¦è·Ÿç€æ›´æ”¹ã€‚ä¼´éšExpress Routerçš„å˜åŒ–ï¼Œæˆ‘ä»¬åœ¨è®¾ç½®åº”ç”¨è·¯ç”±æ—¶æ›´åŠ çµæ´»ã€‚ ä»Šå¤©æˆ‘ä»¬å°†ä½¿ç”¨Node,Express 4.0å’Œå®ƒçš„è·¯ç”±æ¥åˆ›å»ºRESTful APIï¼ŒåŒæ—¶ä½¿ç”¨Mongooseä¸MongoDBäº¤äº’ã€‚åœ¨Chromeä¸­ä½¿ç”¨Postmanæ¥æµ‹è¯•æˆ‘ä»¬çš„APIã€‚ æ¥ä¸‹æ¥çœ‹çœ‹æˆ‘ä»¬è¦åˆ›å»ºçš„APIä»¥åŠå®ƒçš„ç”¨é€”ã€‚ æˆ‘ä»¬çš„ç¨‹åº æˆ‘ä»¬">
<meta name="twitter:image" content="http://zhuxinyong.com/assets/images/node-api-start-server.png">
  
    <link rel="alternate" href="/atom.xml" title="ç”Ÿæ´»ğŸ˜æŠ€æœ¯" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    
    <div id="header-inner" class="inner">
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="æœç´¢"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://zhuxinyong.com"></form>
      </div>
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">é¦–é¡µ</a>
        
          <a class="main-nav-link" href="/archives">å½’æ¡£</a>
        
          <a class="main-nav-link" href="/about">å…³äº</a>
        
      </nav>
      
    </div>
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">ç”Ÿæ´»ğŸ˜æŠ€æœ¯</a>
      </h1>
      
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-ä½¿ç”¨Express4å’ŒNodeæ­å»ºRESTful" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014-11-03-ä½¿ç”¨Express4å’ŒNodeæ­å»ºRESTful.html" class="article-date">
  <time datetime="2014-11-03T04:46:33.000Z" itemprop="datePublished">Nov 3 2014</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      ä½¿ç”¨Express4å’ŒNodeæ­å»ºRESTful API
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <p>å‡ å¤©å‰éšç€Express 4.0çš„å‘å¸ƒï¼Œæˆ‘ä»¬è®¸å¤šNodeé¡¹ç›®çš„è·¯ç”±éœ€è¦è·Ÿç€æ›´æ”¹ã€‚ä¼´éšExpress Routerçš„å˜åŒ–ï¼Œæˆ‘ä»¬åœ¨è®¾ç½®åº”ç”¨è·¯ç”±æ—¶æ›´åŠ çµæ´»ã€‚</p>
<p>ä»Šå¤©æˆ‘ä»¬å°†ä½¿ç”¨Node,Express 4.0å’Œå®ƒçš„è·¯ç”±æ¥åˆ›å»ºRESTful APIï¼ŒåŒæ—¶ä½¿ç”¨Mongooseä¸MongoDBäº¤äº’ã€‚åœ¨Chromeä¸­ä½¿ç”¨Postmanæ¥æµ‹è¯•æˆ‘ä»¬çš„APIã€‚</p>
<p>æ¥ä¸‹æ¥çœ‹çœ‹æˆ‘ä»¬è¦åˆ›å»ºçš„APIä»¥åŠå®ƒçš„ç”¨é€”ã€‚</p>
<p><strong>æˆ‘ä»¬çš„ç¨‹åº</strong></p>
<p>æˆ‘ä»¬å°†è¦åˆ›å»ºçš„API:</p>
<ul>
<li>å¤„ç†CRUD</li>
<li>æ ‡å‡†çš„URL(<code>http://example.com/api/bears</code>å’Œ<code>http://example.com/api/bears/:bear_id</code>)</li>
<li>ä½¿ç”¨åˆé€‚çš„HTTPæ¥æ­é…RESTful(GET,POST,PUTå’ŒDELETE)</li>
<li>è¿”å›JSONæ•°æ®</li>
<li>æ§åˆ¶å°æ‰“å°å‡ºæ‰€æœ‰çš„è¯·æ±‚</li>
</ul>
<p>è¿™äº›éƒ½æ˜¯ä¸¥æ ¼éµå¾ª<a href="http://scotch.io/bar-talk/designing-a-restful-web-api" target="_blank" rel="noopener">RESTful APIS</a>çš„è§„èŒƒçš„ï¼Œå¯ä»¥çµæ´»çš„è½¬å˜ä¸ºä»»ä½•ä½ æƒ³åˆ›å»ºçš„ç¨‹åºï¼ˆç”¨æˆ·ï¼Œè¶…çº§è‹±é›„ï¼Œå•¤é…’ç­‰ï¼‰</p>
<p>å¼€å§‹ä¹‹å‰è¦ç¡®ä¿ä½ å®‰è£…äº†Nodeç¯å¢ƒç„¶åæˆ‘ä»¬æ‰èƒ½å¼€å§‹ï¼</p>
<a id="more"></a>
<p><strong>å¯ç¨‹</strong></p>
<p>æˆ‘ä»¬å…ˆæ•´ç†ä¸€ä¸‹åˆ›å»ºAPIæ‰€éœ€è¦çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰Node packagesï¼Œä½¿ç”¨Expressæ­å»ºæœåŠ¡ã€è·¯ç”±å’Œæ¨¡å‹ï¼Œæœ€åï¼Œæµ‹è¯•æˆ‘ä»¬çš„APIã€‚</p>
<p>ä¸‹é¢æ˜¯æˆ‘ä»¬çš„ç›®å½•ç»“æ„ï¼Œæˆ‘ä»¬éœ€è¦å¾ˆå¤šæ–‡ä»¶åŒæ—¶ä¸ºäº†æ¼”ç¤ºæˆ‘ä»¬å°½å¯èƒ½çš„ç²¾ç®€ã€‚å½“çœŸçš„è¦åšä¸€ä¸ªäº§å“æˆ–è€…ä¸€ä¸ªå¤§çš„åº”ç”¨æ—¶ï¼Œä½ åº”è¯¥æ‹¥æœ‰ä¸€ä¸ªæ›´å¥½çš„ç»“æ„ï¼ˆæ¯”å¦‚å‰¥ç¦»routesåˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶é‡Œï¼‰ã€‚</p>
<pre><code>- app/
    ----- models/
    ---------- bear.js     // our bear model
    - node_modules/     // created by npm. holds our dependencies/packages
    - package.json         // define all our node app and dependencies
    - server.js         // configure our application and create routes
</code></pre><p><strong>å£°æ˜Nodeä¾èµ–åŒ…</strong></p>
<p>æˆ‘ä»¬æ‰€æœ‰çš„Nodeé¡¹ç›®éƒ½ä¼šåœ¨<code>package.json</code>é‡Œé¢å®šä¹‰ä¾èµ–çš„åŒ…ã€‚å…ˆåˆ›å»ºä¸€ä¸ªåŒ…å«ä¸‹é¢å†…å®¹çš„æ–‡ä»¶ï¼š</p>
<pre><code>// package.json
{
    &quot;name&quot;: &quot;node-api&quot;,
    &quot;main&quot;: &quot;server.js&quot;,
    &quot;dependencies&quot;: {
        &quot;express&quot;: &quot;~4.0.0&quot;,
        &quot;mongoose&quot;: &quot;~3.6.13&quot;,
        &quot;body-parser&quot;: &quot;~1.0.1&quot;
    }
}
</code></pre><p><strong>è¿™äº›åŒ…çš„ä½œç”¨æ˜¯å•¥ï¼Ÿ</strong> <code>express</code>æ˜¯Nodeçš„Webæ¡†æ¶ï¼Œ<code>mongoose</code>æ˜¯å’ŒMongoDBæ•°æ®åº“é€šä¿¡çš„å¯¹è±¡å…³ç³»æ˜ å°„ï¼Œ<code>body-parser</code>ä½¿æˆ‘ä»¬èƒ½åœ¨HTTPè¯·æ±‚ä¸­è·å¾—å‚æ•°ä¿¡æ¯ï¼Œæ–¹ä¾¿æˆ‘ä»¬åšä¸€äº›äº‹æƒ…ã€‚</p>
<p><strong>å®‰è£…NodeåŒ…</strong></p>
<p>è¿™æˆ–è®¸æ˜¯æœ€ç®€å•çš„ä¸€æ­¥ï¼Œåœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•æ‰“å¼€ç»ˆç«¯è¾“å…¥ï¼š</p>
<pre><code>$ npm install
</code></pre><p>npmä¼šæ‹‰å»æ‰€æœ‰çš„ä¾èµ–åŒ…åˆ°<code>node_module</code>ä¸­ã€‚</p>
<p><code>npm</code>æ˜¯Nodeçš„åŒ…ç®¡ç†å·¥å…·ï¼Œç°åœ¨æˆ‘ä»¬æœ‰äº†æ‰€æœ‰ä¾èµ–çš„åŒ…ï¼Œå¯ä»¥å¼€å§‹åˆ›å»ºAPIäº†ã€‚å› ä¸º<code>server.js</code>æ˜¯æˆ‘ä»¬åœ¨package.jsonä¸­å£°æ˜çš„ç¨‹åºå…¥å£ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰¾åˆ°<code>server.js</code>æ–‡ä»¶ï¼ˆæ²¡æœ‰çš„åˆ›å»ºï¼‰æ¥é…ç½®ç¨‹åºã€‚</p>
<p><strong>æ­å»ºæˆ‘ä»¬çš„æœåŠ¡å™¨</strong></p>
<p>Nodeå¯åŠ¨ç¨‹åºæ—¶ä¼šæ£€æŸ¥ä¸€äº›é…ç½®ä¿¡æ¯ã€‚</p>
<p>æˆ‘ä»¬ä¼šä¿æŒä»£ç çš„ç®€æ´ä»¥åŠè‰¯å¥½çš„æ³¨é‡Šï¼Œæ¸…æ™°çš„äº†è§£æˆ‘ä»¬æ¯ä¸€æ­¥å®Œæˆäº†ä»€ä¹ˆã€‚</p>
<pre><code>// server.js

// BASE SETUP
// =============================================================================

// call the packages we need
var express    = require(&apos;express&apos;);         // call express
var app        = express();                 // define our app using express
var bodyParser = require(&apos;body-parser&apos;);

// configure app to use bodyParser()
// this will let us get the data from a POST
app.use(bodyParser.urlencoded({ extended: true }));
app.use(bodyParser.json());

var port = process.env.PORT || 8080;         // set our port

// ROUTES FOR OUR API
// =============================================================================
var router = express.Router();                 // get an instance of the express Router

// test route to make sure everything is working (accessed at GET http://localhost:8080/api)
router.get(&apos;/&apos;, function(req, res) {
    res.json({ message: &apos;hooray! welcome to our api!&apos; });    
});

// more routes for our API will happen here

// REGISTER OUR ROUTES -------------------------------
// all of our routes will be prefixed with /api
app.use(&apos;/api&apos;, router);

// START THE SERVER
// =============================================================================
app.listen(port);
console.log(&apos;Magic happens on port &apos; + port);
</code></pre><p>å“‡å“¦ï¼Œæˆ‘ä»¬åšäº†è®¸å¤šäº‹ï¼Œä½†éƒ½å¾ˆç®€å•ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æŒ¨ä¸ªçœ‹çœ‹ï¼š</p>
<ul>
<li><p><strong>åŸºç¡€è®¾ç½®</strong> åœ¨æˆ‘ä»¬çš„è®¾ç½®ä¸­åŒ…å«ä½¿ç”¨expressåˆå§‹åŒ–åº”ç”¨ï¼Œé€šè¿‡bodyParseræ¥è½»æ¾è·å–è¯·æ±‚å¤´ä¿¡æ¯ä»¥åŠè®¾ç½®åº”ç”¨çš„ç«¯å£ã€‚</p>
</li>
<li><p><strong>è·¯ç”±é…ç½®</strong> æˆ‘ä»¬ä½¿ç”¨Expressçš„Routeræ¥å®šä¹‰åº”ç”¨çš„è·¯ç”±ã€‚</p>
</li>
<li><p><strong>å¯åŠ¨æœåŠ¡</strong> æˆ‘ä»¬ä¼šåœ¨å…ˆå‰å®šä¹‰çš„ç«¯å£å¯åŠ¨åº”ç”¨ï¼Œç„¶åå°±å¯ä»¥è¿è¡Œå’Œæµ‹è¯•å®ƒã€‚</p>
</li>
</ul>
<p><strong>å¼€å¯æœåŠ¡å¹¶æµ‹è¯•</strong></p>
<p>ç¡®ä¿æ‰€æœ‰çš„å·¥ä½œå·²ç»å°±ç»ªï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¯åŠ¨åº”ç”¨å¹¶åœ¨å…ˆå‰å®šä¹‰çš„è·¯ç”±ä¸Šå‘ä¸€ä¸ªè¯·æ±‚ç¡®ä¿èƒ½å¾—åˆ°ä¸€ä¸ªå“åº”ã€‚</p>
<p>ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å¯åŠ¨æœåŠ¡ï¼š</p>
<pre><code>$ node server.js
</code></pre><p>ä½ å°†ä¼šçœ‹åˆ°å¦‚ä¸‹çš„ç•Œé¢ï¼š</p>
<p><img src="/assets/images/node-api-start-server.png" alt="img"></p>
<p>çœ‹åˆ°ç¨‹åºå·²ç»å¯åŠ¨ï¼Œæ¥ç€æ¥æµ‹è¯•ä¸€ä¸‹ã€‚</p>
<p><strong>ä½¿ç”¨Postmanæµ‹è¯•æˆ‘ä»¬çš„API</strong></p>
<p>Postmanä¼šå¸®åŠ©æˆ‘ä»¬æµ‹è¯•APIï¼Œå®ƒåŸºæœ¬å°±æ˜¯åœ¨æˆ‘ä»¬å¡«å†™çš„è·¯å¾„ä¸Šå‘é€HTTPè¯·æ±‚ã€‚æˆ‘ä»¬ç”šè‡³å¯ä»¥ä¼ é€’å‚æ•°å’Œæƒé™ï¼ˆåœ¨è¿™ä¸ªåº”ç”¨ä¸­æˆ‘ä»¬æš‚ä¸”ä¸éœ€è¦ï¼‰ã€‚</p>
<p>æ‰“å¼€Postmançœ‹çœ‹å¦‚ä½•ä½¿ç”¨ï¼š</p>
<p><img src="/assets/images/postman-rest-client-node-api.png" alt="img"></p>
<p>ä½ æ‰€éœ€è¦åšçš„å°±æ˜¯ï¼š<strong>å¡«å†™ç›®çš„urlï¼Œé€‰æ‹©ä¸€ä¸ªhttpæ–¹æ³•æœ€åå‘é€è¯·æ±‚</strong>ï¼Œå¤Ÿç®€å•å§ï¼Ÿ</p>
<p>æ¥ä¸‹æ¥å°±æ˜¯æœŸç›¼å·²ä¹…çš„æ—¶åˆ»ï¼Œåœ¨URLä¸€æ ä¸­è¾“å…¥<strong><a href="http://localhost:8080/api" target="_blank" rel="noopener">http://localhost:8080/api</a></strong>ï¼Œç”±äºæˆ‘ä»¬ä»…ä»æœåŠ¡å™¨è·å¾—æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©<strong>GET</strong>æ–¹æ³•ï¼Œæ¥ç€ç‚¹å‡»å‘é€ã€‚</p>
<p><img src="/assets/images/node-api-postman-test.png" alt="post man"></p>
<p>ä¸é”™ï¼Œæˆ‘ä»¬å¾—åˆ°äº†é¢„æœŸçš„ç»“æœï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥ä¸ºè¯·æ±‚æœåŠ¡ã€‚æ¥ä¸‹æ¥è¿ä¸Šæ•°æ®åº“æ–¹ä¾¿æˆ‘ä»¬æ‰§è¡ŒCRUDæ“ä½œã€‚</p>
<p><strong>æ•°æ®åº“å’ŒBeaeræ¨¡å‹</strong></p>
<p>æˆ‘ä»¬ä¼šä½¿è¿™éƒ¨åˆ†ç®€çŸ­ç•™æœ‰è¶³å¤Ÿçš„æ—¶é—´åœ¨åˆ›å»ºAPIè·¯ç”±ä¸Šã€‚æˆ‘ä»¬æ‰€éœ€è¦åšçš„å°±æ˜¯åˆ›å»ºMongoDBæ•°æ®åº“ä»¥åŠä½¿ç¨‹åºå’Œå®ƒç›¸è¿ã€‚ä¸ºäº†ç®€åŒ–å’Œæ•°æ®åº“çš„æ“ä½œæˆ‘ä»¬åŒæ ·éœ€è¦mongooseæ¨¡å‹ã€‚</p>
<p><strong>åˆ›å»ºæ•°æ®åº“å’Œé“¾æ¥</strong></p>
<p>æˆ‘ä»¬ä½¿ç”¨Modulusæä¾›çš„æ•°æ®åº“ï¼Œä½ åœ¨ä¸Šé¢å¯ä»¥åˆ›å»ºè‡ªå·±çš„æ•°æ®åº“ä»¥åŠå¯ä»¥åœ¨æœ¬åœ°ä½¿ç”¨ï¼Œæˆ–è€…ä½¿ç”¨Mongolabï¼Œæ‰€æœ‰ä½ æ‰€éœ€è¦çš„å°±æ˜¯ä¸€ä¸ªé“¾æ¥ï¼Œå°±åƒä¸‹é¢é‚£æ ·å°±ä½ çš„ç¨‹åºå°±å¯ä»¥è¿æ¥ã€‚</p>
<p>ä¸€æ—¦åˆ›å»ºå¥½æ•°æ®åº“ä»¥åŠæœ‰ä¸€ä¸ªå¯ä»¥è¿æ¥çš„åœ°å€ï¼Œæ¥ç€åœ¨<strong>server.js</strong>é‡Œé¢æ·»åŠ ä¸‹é¢ä¸¤è¡Œï¼š</p>
<pre><code>// server.js

// BASE SETUP
// =============================================================================

...

var mongoose   = require(&apos;mongoose&apos;);
mongoose.connect(&apos;mongodb://node:node@novus.modulusmongo.net:27017/Iganiq8o&apos;); // connect to our database

...
</code></pre><p>ç°åœ¨æˆ‘ä»¬å·²ç»è·å–mongooseçš„åŒ…åŒæ—¶è¿ä¸Šæ¶è®¾åœ¨è¿œç¨‹Modulusçš„æ•°æ®åº“ã€‚æ¥ä¸‹æ¥å°±éœ€è¦åˆ›å»ºbearsçš„æ¨¡å‹ã€‚</p>
<p><strong>Bear Moder app/models/bear.js</strong></p>
<p>å› ä¸ºåˆ›å»ºæ¨¡å‹ä¸æ˜¯æœ¬æ•™ç¨‹çš„æ ¸å¿ƒï¼Œæ‰€ä»¥æˆ‘ä»¬åªä¸€ä¸ªå¸¦æœ‰åå­—å­—æ®µçš„æ¨¡å‹ã€‚æ¥ä¸‹æ¥åˆ›å»ºå¹¶æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>
<pre><code>// app/models/bear.js

var mongoose     = require(&apos;mongoose&apos;);
var Schema       = mongoose.Schema;

var BearSchema   = new Schema({
    name: String
});

module.exports = mongoose.model(&apos;Bear&apos;, BearSchema);
</code></pre><p>åˆ›å»ºå®Œä¸Šé¢çš„æ–‡ä»¶ï¼Œæ¥ç€å°±è¦åœ¨æˆ‘ä»¬çš„server.jsä¸­å¼•å…¥ï¼š</p>
<pre><code>// server.js

// BASE SETUP
// =============================================================================

...

var Bear     = require(&apos;./app/models/bear&apos;);

...
</code></pre><p>ç°åœ¨åº”ç”¨åç«¯å·²ç»å®Œæˆï¼Œæ¥ä¸‹æ¥æ‰æ˜¯æœ¬æ–‡çš„é‡ç‚¹ï¼Œå¥”è·‘å§ï¼å…„å¼Ÿï¼</p>
<p><strong>Expressè·¯ç”±æ¨¡å—å’Œè·¯ç”±</strong></p>
<p>æˆ‘ä»¬å°†ä¼šä½¿ç”¨Express Routerå®ä¾‹æ¥ç®¡ç†æˆ‘ä»¬çš„è·¯ç”±ï¼Œä¸‹é¢æ˜¯æˆ‘ä»¬å°†ä¼šç”¨åˆ°çš„è·¯ç”±ä»¥åŠå¯¹åº”çš„HTTPæ–¹æ³•ã€‚</p>
<table>
<thead>
<tr>
<th>Route</th>
<th>HTTP Verb</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>/api/bears</td>
<td>GET</td>
<td>Get all the bears.</td>
</tr>
<tr>
<td>/api/bears</td>
<td>POST</td>
<td>Create a bear.</td>
</tr>
<tr>
<td>/api/bears/:bear_id</td>
<td>GET</td>
<td>Get a single bear.</td>
</tr>
<tr>
<td>/api/bears/:bear_id</td>
<td>PUT</td>
<td>Update a bear with new info.</td>
</tr>
<tr>
<td>/api/bears/:bear_id</td>
<td>DELETE</td>
<td>Delete a bear.</td>
</tr>
</tbody>
</table>
<p>è¿™å·²ç»è¦†ç›–APIæ‰€éœ€çš„åŸºæœ¬è·¯ç”±ï¼ŒåŒæ—¶ä¹Ÿä¿æŒäº†æˆ‘ä»¬çš„è¡Œä¸ºå’ŒHTPPæ–¹æ³•åŒæ­¥çš„è‰¯å¥½æ ¼å¼ã€‚</p>
<p><strong>è·¯ç”±ä¸­é—´ä»¶</strong></p>
<p>æˆ‘ä»¬å·²ç»å®šä¹‰äº†ç¬¬ä¸€ä¸ªè·¯ç”±ä»¥åŠçœ‹åˆ°äº†å®ƒçš„ä½œç”¨ã€‚Express Routerä¸ºæˆ‘ä»¬åœ¨å®šä¹‰è·¯ç”±æ—¶æä¾›å¾ˆå¤§çš„çµæ´»æ€§ã€‚</p>
<p>æˆ‘ä»¬å¸Œæœ›åœ¨æ¯æ¬¡è¯·æ±‚APIæ—¶éƒ½å¯ä»¥å¾—åˆ°åé¦ˆä¿¡æ¯ï¼Œæˆ‘åªéœ€è¦åœ¨ä»£ç ä¸­æ·»åŠ <strong>console.log()</strong>ã€‚</p>
<pre><code>// server.js

...

// ROUTES FOR OUR API
// =============================================================================
var router = express.Router();                 // get an instance of the express Router

// middleware to use for all requests
router.use(function(req, res, next) {
    // do logging
    console.log(&apos;Something is happening.&apos;);
    next(); // make sure we go to the next routes and don&apos;t stop here
});

// test route to make sure everything is working (accessed at GET http://localhost:8080/api)
router.get(&apos;/&apos;, function(req, res) {
    res.json({ message: &apos;hooray! welcome to our api!&apos; });    
});

// more routes for our API will happen here

// REGISTER OUR ROUTES -------------------------------
// all of our routes will be prefixed with /api
app.use(&apos;/api&apos;, router);

...
</code></pre><p>ä¸ºäº†è¾¾åˆ°é‚£ä¸ªç›®çš„æˆ‘ä»…éœ€è¦å£°æ˜<strong>router.use(function())</strong>ã€‚æˆ‘ä»¬å®šä¹‰è·¯ç”±çš„é¡ºåºå¾ˆé‡è¦ï¼Œå› ä¸ºç¨‹åºä¼šæ ¹æ®æˆ‘ä»¬å®šä¹‰çš„é¡ºåºæ‰§è¡Œã€‚</p>
<p>æˆ‘ä»¬è¿”å›çš„æ•°æ®æ—¶JSONæ ¼å¼çš„ï¼Œå¯¹äºAPIæ¥è¯´è¿™æ˜¯æ ‡å‡†çš„åŒæ ·è¿™ä¹Ÿæ–¹ä¾¿ä½¿ç”¨æˆ‘ä»¬APIçš„ç”¨æˆ·è°ƒç”¨ã€‚</p>
<p>æˆ‘ä»¬åŒæ ·éœ€è¦æ·»åŠ <strong>next()</strong>æ ‡è¯†ç¨‹åºéœ€è¦ç»§ç»­æ‰§è¡Œä¸‹é¢çš„è·¯ç”±ï¼Œè¿™ç‚¹å¾ˆé‡è¦é˜²æ­¢ç¨‹åºåœ¨æ­¤ç»ˆæ­¢ã€‚</p>
<p><strong>Middleware Uses</strong> ä¸­é—´ä»¶çš„ä½œç”¨å¾ˆå¼ºå¤§ï¼Œæˆ‘ä»¬å¯ä»¥éªŒè¯è¯·æ±‚ä»¥æ­¤ä¿è¯è¯·æ±‚çš„å®‰å…¨æ€§ï¼ŒåŒæ ·å¯ä»¥åœ¨è¿™é‡ŒæŠ›å‡ºå¼‚å¸¸ã€‚åŒæ—¶è¿˜å¯ä»¥åšç™»é™†åˆ†æï¼Œæ€»ä¹‹åœ¨è¿™é‡Œå¯ä»¥å¾ˆå¤šäº‹ã€‚</p>
<p>ç–¯ç‹‚å§ï¼</p>
<p><strong>æµ‹è¯•æˆ‘ä»¬çš„ä¸­é—´ä»¶</strong></p>
<p>ç°åœ¨ä½¿ç”¨Postmanå‘æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œåœ¨ç»ˆç«¯å°±ä¼šçœ‹åˆ°<strong>Something is happening</strong>ã€‚</p>
<p><img src="/assets/images/node-api-route-middleware-express.png" alt="middle"></p>
<p>é€šè¿‡ä¸­é—´ä»¶ï¼Œå¯ä»¥åšä¸€äº›äº†ä¸èµ·çš„äº‹æƒ…ï¼Œå¯ä»¥å¯¹ç”¨æˆ·è¿›è¡Œæƒé™ç®¡ç†ã€‚</p>
<p><strong>åˆ›å»ºåŸºæœ¬è·¯ç”±</strong></p>
<p>æˆ‘ä»¬é¦–å…ˆéœ€è¦<strong>è·å–</strong>å’Œ<strong>åˆ›å»º</strong>çš„æ¥å£ï¼Œè¿™ä¸¤é¡¹éƒ½æ˜¯é€šè¿‡<strong>/api/bears</strong>apiå®Œæˆçš„ï¼Œæˆ‘ä»¬è¦å…ˆåˆ›å»ºä¸€ä¸ªå®ä¾‹ä»¥å¤‡åç”¨ã€‚</p>
<p><strong>åˆ›å»ºä¸€ä¸ªç†Š POST /api/bears</strong></p>
<p>æˆ‘ä»¬å°†ä¼šæ·»åŠ ä¸€ä¸ªå¤„ç†POSTçš„è·¯ç”±æ¥ç€ä½¿ç”¨Postmanæ¥æµ‹è¯•ã€‚</p>
<pre><code>// server.js

...

// ROUTES FOR OUR API
// =============================================================================

... // &lt;-- route middleware and first route are here

// more routes for our API will happen here

// on routes that end in /bears
// ----------------------------------------------------
router.route(&apos;/bears&apos;)

    // create a bear (accessed at POST http://localhost:8080/api/bears)
    .post(function(req, res) {

        var bear = new Bear();         // create a new instance of the Bear model
        bear.name = req.body.name;  // set the bears name (comes from the request)

        // save the bear and check for errors
        bear.save(function(err) {
            if (err)
                res.send(err);

            res.json({ message: &apos;Bear created!&apos; });
        });

    });

// REGISTER OUR ROUTES -------------------------------
// all of our routes will be prefixed with /api
app.use(&apos;/api&apos;, router);

...
</code></pre><p>ç°åœ¨æˆ‘ä»¬å·²ç»åˆ›å»ºå¥½POSTè·¯ç”±ï¼Œä»¥åéƒ½ä¼šä½¿ç”¨<strong>router.route</strong>æ¥å¤„ç†ç›¸åŒè·¯ç”±ã€‚å¯ä»¥å¤„ç†æ‰€æœ‰ä»¥<strong>/bears</strong>ç»“å°¾çš„è¯·æ±‚ã€‚</p>
<p>æ¥ä¸‹æ¥ç”¨Postmançœ‹çœ‹åˆ›å»ºçš„ç†Šã€‚</p>
<p><img src="/assets/images/node-api-postman-post-create-bear.png" alt="middle"></p>
<p>æ³¨æ„æˆ‘ä»¬ä»¥<strong>x-www-form-urlencoded</strong>çš„å½¢å¼æ¥å‘é€<strong>name</strong>ï¼Œè¿™æ ·å°±ä¼šä»¥æŸ¥è¯¢å­—ç¬¦ä¸²çš„å½¢å¼å‘é€åˆ°NodeæœåŠ¡å™¨ã€‚</p>
<p>æˆ‘ä»¬å¾—åˆ°åˆ›å»ºæˆåŠŸåçš„ä¿¡æ¯ï¼Œæ¥ç€æ¥å¤„ç†è·å–ç†Šçš„æ¥å£ã€‚</p>
<p><strong>è·å–æ‰€æœ‰çš„ç†Š</strong></p>
<p>é€šè¿‡router.route(),æˆ‘ä»¬å¯ä»¥æŠŠä¸åŒçš„è·¯ç”±è¿æ¥åœ¨ä¸€èµ·ï¼Œè¿™ä¿è¯äº†ä»£ç çš„ç®€æ´ã€‚</p>
<p>// server.js</p>
<pre><code>...

// ROUTES FOR OUR API
// =============================================================================

... // &lt;-- route middleware and first route are here

// more routes for our API will happen here

// on routes that end in /bears
// ----------------------------------------------------
router.route(&apos;/bears&apos;)

    // create a bear (accessed at POST http://localhost:8080/api/bears)
    .post(function(req, res) {

        ...

    })

    // get all the bears (accessed at GET http://localhost:8080/api/bears)
    .get(function(req, res) {
        Bear.find(function(err, bears) {
            if (err)
                res.send(err);

            res.json(bears);
        });
    });

// REGISTER OUR ROUTES -------------------------------
// all of our routes will be prefixed with /api
app.use(&apos;/api&apos;, router);

...
</code></pre><p>ä¸€ä¸ªç®€å•çš„è·¯ç”±ï¼Œä»…ä»…å‘<strong><a href="http://localhost:8080/api/bears" target="_blank" rel="noopener">http://localhost:8080/api/bears</a></strong>å‘é€äº†ä¸€ä¸ªGETè¯·æ±‚ï¼Œæˆ‘ä»¬å°±èƒ½å¾—åˆ°ä»¥JSONæ ¼å¼æ•°æ®ã€‚</p>
<p><img src="/assets/images/node-api-postman-get-all.png" alt="json data"></p>
<p><strong>ä¸ºå¤„ç†å•ä¸ªç†Šåˆ›å»ºè·¯ç”±</strong></p>
<p>æˆ‘ä»¬ä»¥<strong>/bears</strong>ç»“å°¾çš„è·¯ç”±æ¥å¤„ç†å¤šä¸ªå®ä¾‹ï¼Œç°åœ¨æ¥å¤„ç†å•ä¸ªçš„å®ä¾‹ï¼Œæ¯”å¦‚æˆ‘ä»¬ä¼ é€’ä¸€ä¸ªç†Šçš„IDæ—¶ã€‚</p>
<p>é€šè¿‡ä»¥<strong>/bears/:bear_id</strong>ç»“å°¾çš„è·¯ç”±æ¥å‡ºæ¥å•ä¸ªå®ä¾‹ï¼š</p>
<p>ï¼Š è·å–ä¸€ä¸ªå®ä¾‹<br>ï¼Š æ›´æ–°ä¸€ä¸ªå®ä¾‹<br>ï¼Š åˆ é™¤ä¸€ä¸ªå®ä¾‹</p>
<p><strong>:bear_id</strong>å¯ä»¥ä»è¯·æ±‚å¤´ä¸­è·å–ï¼Œè¿™å¾—ç›Šäº<strong>body-parser</strong>ã€‚</p>
<p><strong>è·å–ä¸€ä¸ªå®ä¾‹</strong></p>
<p>æˆ‘ä»¬å°†ä¼šæ·»åŠ ä¸€ä¸ªè·¯ç”±å»å¤„ç†ä»¥<strong>:bear_id</strong>ç»“å°¾çš„URLã€‚</p>
<pre><code>// server.js

...

// ROUTES FOR OUR API
// =============================================================================

...

// on routes that end in /bears
// ----------------------------------------------------
router.route(&apos;/bears&apos;)
    ...

// on routes that end in /bears/:bear_id
// ----------------------------------------------------
router.route(&apos;/bears/:bear_id&apos;)

    // get the bear with that id (accessed at GET http://localhost:8080/api/bears/:bear_id)
    .get(function(req, res) {
        Bear.findById(req.params.bear_id, function(err, bear) {
            if (err)
                res.send(err);
            res.json(bear);
        });
    });

// REGISTER OUR ROUTES -------------------------------
// all of our routes will be prefixed with /api
app.use(&apos;/api&apos;, router);

...
</code></pre><p>é€šè¿‡ä¸Šé¢è·å–å…¨éƒ¨å®ä¾‹çš„æ•°æ®ï¼Œå¯ä»¥çœ‹åˆ°å•ä¸ªç†Šçš„IDï¼Œç”¨è¿™ä¸ªIDå¯ä»¥åœ¨Postmanä¸­å¾—åˆ°å•ä¸ªçš„å®ä¾‹ã€‚</p>
<p><img src="/assets/images/node-api-postman-get-single.png" alt="all data"></p>
<p><strong>æ›´æ–°å®ä¾‹</strong></p>
<p>ç”¨router.route()è¿æ¥èµ·ç±»ä¼¼çš„è·¯ç”±å¹¶æ·»åŠ <strong>.put()</strong>ã€‚</p>
<pre><code>// server.js

...

// on routes that end in /bears
// ----------------------------------------------------
router.route(&apos;/bears&apos;)
    ...

// on routes that end in /bears/:bear_id
// ----------------------------------------------------
router.route(&apos;/bears/:bear_id&apos;)

    // get the bear with that id (accessed at GET http://localhost:8080/api/bears/:bear_id)
    .get(function(req, res) {
        ...
    })

    // update the bear with this id (accessed at PUT http://localhost:8080/api/bears/:bear_id)
    .put(function(req, res) {

        // use our bear model to find the bear we want
        Bear.findById(req.params.bear_id, function(err, bear) {

            if (err)
                res.send(err);

            bear.name = req.body.name;     // update the bears info

            // save the bear
            bear.save(function(err) {
                if (err)
                    res.send(err);

                res.json({ message: &apos;Bear updated!&apos; });
            });

        });
    });

// REGISTER OUR ROUTES -------------------------------
// all of our routes will be prefixed with /api
app.use(&apos;/api&apos;, router);

...
</code></pre><p>æˆ‘ä»¬è¿˜æ˜¯ä½¿ç”¨å‰é¢çš„IDè·å¾—å®ä¾‹ï¼Œç„¶åé€šè¿‡PUTæ–¹æ³•ï¼Œåœ¨å‚æ•°é‡Œé¢ä¿®æ”¹ç„¶åä¿å­˜ã€‚</p>
<p><img src="/assets/images/node-api-post-man-update-record.png" alt="save data"></p>
<p>ä¸ºäº†ç¡®å®šæ›´æ”¹ç”Ÿæ•ˆï¼Œæˆ‘ä»¬éœ€è¦å†æŸ¥ä¸€éå®ä¾‹ã€‚</p>
<p><img src="/assets/images/node-api-postman-all-updated.png" alt="get data"></p>
<p><strong>åˆ é™¤ä¸€ä¸ªå®ä¾‹</strong></p>
<p>å½“éœ€è¦åˆ é™¤ä¸€ä¸ªå®ä¾‹æ—¶ï¼Œä»…ä»…éœ€è¦å‘<strong>/api/bears/:bear_id</strong>å‘é€DELETEè¯·æ±‚ã€‚</p>
<p>ä¸‹é¢æ·»åŠ å¯¹åº”çš„ä»£ç ï¼š</p>
<pre><code>// server.js

...

// on routes that end in /bears
// ----------------------------------------------------
router.route(&apos;/bears&apos;)
    ...

// on routes that end in /bears/:bear_id
// ----------------------------------------------------
router.route(&apos;/bears/:bear_id&apos;)

    // get the bear with that id (accessed at GET http://localhost:8080/api/bears/:bear_id)
    .get(function(req, res) {
        ...
    })

    // update the bear with this id (accessed at PUT http://localhost:8080/api/bears/:bear_id)
    .put(function(req, res) {
        ...
    })

    // delete the bear with this id (accessed at DELETE http://localhost:8080/api/bears/:bear_id)
    .delete(function(req, res) {
        Bear.remove({
            _id: req.params.bear_id
        }, function(err, bear) {
            if (err)
                res.send(err);

            res.json({ message: &apos;Successfully deleted&apos; });
        });
    });

// REGISTER OUR ROUTES -------------------------------
// all of our routes will be prefixed with /api
app.use(&apos;/api&apos;, router);

...
</code></pre><p>ä½¿ç”¨ä¸€ä¸ªå­˜åœ¨çš„bear_idé€šè¿‡DELETEæ–¹æ³•å‘æˆ‘ä»¬çš„APIå‘é€è¯·æ±‚ï¼Œå°†ä¼šåˆ é™¤ä¸€ä¸ªå¯¹åº”çš„å®ä¾‹ã€‚</p>
<p><img src="/assets/images/node-api-postman-delete.png" alt="delete data"></p>
<p>æ¥ç€å†å»è·å¾—æ‰€æœ‰å®ä¾‹æ—¶ï¼Œå°±ä¼šå¾—åˆ°ç©ºå€¼ã€‚</p>
<p><strong>ç»“è®º</strong></p>
<p>ç°åœ¨æˆ‘ä»¬å·²æœ‰è‡ªå·±çš„APIæ¥å¤„ç†CRUDï¼Œæœ‰ä¸€ä¸ªå¥½çš„åŸºç¡€æ‰èƒ½åˆ›å»ºä¸€ä¸ªæ›´å¤§å’Œæ›´å¥å£®çš„ç¨‹åºã€‚</p>
<p>è¿™åªæ˜¯ä¸€ä¸ªç®€æ´çš„ä½¿ç”¨Express4åˆ›å»ºçš„Node APIï¼Œå…¶å®è¿˜æœ‰å¥½å¤šéœ€è¦åšå’Œå¯ä»¥åšçš„ã€‚æ¯”å¦‚ï¼šæ·»åŠ æƒé™æ§åˆ¶ï¼Œå‹å¥½çš„é”™è¯¯æç¤ºç­‰ã€‚</p>
<p>å¦‚æœæœ‰ä»»ä½•ç–‘é—®ï¼Œå¯ä»¥åœ¨ä¸‹é¢ç•™è¨€ã€‚</p>
<p>åŸæ–‡ï¼š<a href="http://scotch.io/tutorials/javascript/build-a-restful-api-using-node-and-express-4" target="_blank" rel="noopener">http://scotch.io/tutorials/javascript/build-a-restful-api-using-node-and-express-4</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://zhuxinyong.com/2014-11-03-ä½¿ç”¨Express4å’ŒNodeæ­å»ºRESTful.html" data-id="cjhpnux9f0018pog9eepxq1ns" class="article-share-link">åˆ†äº«</a>
      
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Node-Express/">Node Express</a></li></ul>

    </footer>
  </div>
  
    
 <script src="/jquery/jquery.min.js"></script>
  <div id="random_posts">
    <h2>æ¨èæ–‡ç« </h2>
    <div class="random_posts_ul">
      <script>
          var random_count =4
          var site = {BASE_URI:'/'};
          function load_random_posts(obj) {
              var arr=site.posts;
              if (!obj) return;
              // var count = $(obj).attr('data-count') || 6;
              for (var i, tmp, n = arr.length; n; i = Math.floor(Math.random() * n), tmp = arr[--n], arr[n] = arr[i], arr[i] = tmp);
              arr = arr.slice(0, random_count);
              var html = '<ul>';
            
              for(var j=0;j<arr.length;j++){
                var item=arr[j];
                html += '<li><strong>' + 
                item.date + ':&nbsp;&nbsp;<a href="' + (site.BASE_URI+item.uri) + '">' + 
                (item.title || item.uri) + '</a></strong>';
                if(item.excerpt){
                  html +='<div class="post-excerpt">'+item.excerpt+'</div>';
                }
                html +='</li>';
                
              }
              $(obj).html(html + '</ul>');
          }
          $('.random_posts_ul').each(function () {
              var c = this;
              if (!site.posts || !site.posts.length){
                  $.getJSON(site.BASE_URI + 'js/posts.js',function(json){site.posts = json;load_random_posts(c)});
              } 
               else{
                load_random_posts(c);
              }
          });
      </script>
    </div>
  </div>

    
<nav id="article-nav">
  
    <a href="/2014-11-07-æµè§ˆå™¨çš„å·¥ä½œåŸç†ï¼šæ–°å¼ç½‘ç»œæµè§ˆå™¨å¹•åæ­ç§˜.html" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">ä¸Šä¸€ç¯‡</strong>
      <div class="article-nav-title">
        
          æµè§ˆå™¨çš„å·¥ä½œåŸç†ï¼šæ–°å¼ç½‘ç»œæµè§ˆå™¨å¹•åæ­ç§˜
        
      </div>
    </a>
  
  
    <a href="/2014-11-01-Expresså…¥é—¨.html" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">ä¸‹ä¸€ç¯‡</strong>
      <div class="article-nav-title">Expresså…¥é—¨</div>
    </a>
  
</nav>

  
</article>
 
     
  <div class="comments" id="comments">
    
     
       
      <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
    
       
      
      
  </div>
 
  

</section>
           
    <aside id="sidebar">
  
    

  
    
  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title recent-posts">æœ€æ–°æ–‡ç« </h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018-05-28-ä¸€ä¸ªæ•°å­—æˆªå–å¼•å‘çš„ç²¾åº¦é—®é¢˜ï¼ˆå››ï¼‰.html">ä¸€ä¸ªæ•°å­—æˆªå–å¼•å‘çš„ç²¾åº¦é—®é¢˜ï¼ˆå››ï¼‰</a>
          </li>
        
          <li>
            <a href="/2017-07-08-sass-vs-less.html">sass vs less</a>
          </li>
        
          <li>
            <a href="/2017-06-11-å…¨æ ˆå·¥ç¨‹å¸ˆæŒ‡å—.html">å…¨æ ˆå·¥ç¨‹å¸ˆæŒ‡å—</a>
          </li>
        
          <li>
            <a href="/2017-06-03-ä½¿åŒäº‹ç¾¡æ…•ä¸å·²çš„8ä¸ªnpmå‘½ä»¤.html">ä½¿åŒäº‹ç¾¡æ…•ä¸å·²çš„8ä¸ªnpmå‘½ä»¤</a>
          </li>
        
          <li>
            <a href="/2017-05-18-å¾®ä¿¡æ›´æ–°äº†è¿™äº›å†…å®¹ï¼Œä½ è¿˜ä¸çŸ¥é“ï¼Ÿ.html">å¾®ä¿¡æ›´æ–°äº†è¿™äº›å†…å®¹ï¼Œä½ è¿˜ä¸çŸ¥é“ï¼Ÿ</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    

  
    
  
    <!--å¾®ä¿¡å…¬ä¼—å·äºŒç»´ç -->


  
</aside>

      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-left">
      &copy; 2014 - 2018 Zhuxy&nbsp;|&nbsp;
      ä¸»é¢˜ <a href="https://github.com/giscafer/hexo-theme-cafe/" target="_blank">Cafe</a>
    </div>
     <div id="footer-right">
      è”ç³»æ–¹å¼&nbsp;|&nbsp;aotuwangren@163.com
    </div>
  </div>
</footer>
 <script src="/jquery/jquery.min.js"></script>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">é¦–é¡µ</a>
  
    <a href="/archives" class="mobile-nav-link">å½’æ¡£</a>
  
    <a href="/about" class="mobile-nav-link">å…³äº</a>
  
</nav>
    <img class="back-to-top-btn" src="/images/fly-to-top.png"/>
<script>
// Elevator script included on the page, already.
window.onload = function() {
  var elevator = new Elevator({
    selector:'.back-to-top-btn',
    element: document.querySelector('.back-to-top-btn'),
    duration: 1000 // milliseconds
  });
}
</script>
      

  
    <script>
      var cloudTieConfig = {
        url: document.location.href, 
        sourceId: "",
        productKey: "e2fb4051c49842688ce669e634bc983f",
        target: "cloud-tie-wrapper"
      };
    </script>
    <script src="https://img1.ws.126.net/f2e/tie/yun/sdk/loader.js"></script>
    

  







<!-- author:forvoid begin -->
<!-- author:forvoid begin -->

<!-- author:forvoid end -->

<!-- author:forvoid end -->


  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      })
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      })
    </script>
    <script type="text/javascript" src="https://cdn.rawgit.com/mathjax/MathJax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


 <script src="/js/is.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
<script src="/js/elevator.js"></script>
  </div>
</body>
</html>